<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YTime - Sign In</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/2.1.2/sweetalert.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/9.22.2/firebase-app-compat.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/9.22.2/firebase-auth-compat.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --dark-bg: #121212;
            --darker-bg: #0a0a0a;
            --gold: #d4af37;
            --gold-hover: #f2d259;
            --text-color: #f5f5f5;
            --text-secondary: #aaaaaa;
        }

        body {
            background-color: var(--dark-bg);
            color: var(--text-color);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            width: 100%;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        @media (min-width: 768px) {
            .container {
                flex-direction: row;
            }
        }

        /* Showcase Side */
        .showcase {
            display: none;
            background-color: var(--darker-bg);
            position: relative;
            overflow: hidden;
        }

        @media (min-width: 768px) {
            .showcase {
                display: block;
                width: 50%;
            }
        }

        .slideshow {
            height: 100%;
            width: 100%;
            position: relative;
        }

        .slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 1s ease-in-out;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            text-align: center;
        }

        .slide.active {
            opacity: 1;
        }

        .slide img {
            max-width: 80%;
            max-height: 60%;
            object-fit: contain;
            margin-bottom: 2rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            border-radius: 10px;
        }

        .slide-content h2 {
            color: var(--gold);
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        .slide-content p {
            color: var(--text-secondary);
            font-size: 1.1rem;
            max-width: 80%;
            margin: 0 auto;
        }

        .slide-indicators {
            position: absolute;
            bottom: 30px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: center;
            gap: 10px;
        }

        .indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: var(--text-secondary);
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .indicator.active {
            background-color: var(--gold);
            transform: scale(1.2);
        }

        /* Auth Side */
        .auth-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 2rem;
            min-height: 100vh;
        }

        .logo {
            margin-bottom: 2rem;
        }

        .logo h1 {
            font-size: 2.5rem;
            color: var(--gold);
            letter-spacing: 1px;
        }

        .auth-form {
            width: 100%;
            max-width: 400px;
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        }

        .form-title {
            text-align: center;
            margin-bottom: 1.5rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--text-secondary);
        }

        .form-group input {
            width: 100%;
            padding: 12px 15px;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            background-color: rgba(255, 255, 255, 0.05);
            color: var(--text-color);
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .form-group input:focus {
            outline: none;
            border-color: var(--gold);
        }

        .btn {
            width: 100%;
            padding: 12px;
            border: none;
            border-radius: 8px;
            background-color: var(--gold);
            color: #000;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
        }

        .btn:hover {
            background-color: var(--gold-hover);
            transform: translateY(-2px);
        }

        .divider {
            display: flex;
            align-items: center;
            margin: 1.5rem 0;
            color: var(--text-secondary);
        }

        .divider::before,
        .divider::after {
            content: "";
            flex: 1;
            height: 1px;
            background-color: rgba(255, 255, 255, 0.1);
        }

        .divider span {
            padding: 0 10px;
        }

        .social-auth {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .social-btn {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            background-color: rgba(255, 255, 255, 0.05);
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .social-btn:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .social-btn img {
            width: 24px;
            height: 24px;
        }

        .terms {
            margin-top: 2rem;
            text-align: center;
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .terms a {
            color: var(--gold);
            text-decoration: none;
        }

        .terms a:hover {
            text-decoration: underline;
        }

        /* Modern scroll */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--darker-bg);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--gold);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--gold-hover);
        }

        /* Animation */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .auth-form {
            animation: fadeIn 0.8s ease-out;
        }

        .info-text {
            text-align: center;
            color: var(--text-secondary);
            margin-bottom: 1.5rem;
            font-size: 0.95rem;
            line-height: 1.5;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Showcase Side (visible only on larger screens) -->
        <div class="showcase">
            <div class="slideshow">
                <div class="slide active">
                    <img src="/api/placeholder/500/300" alt="Premium Watch" />
                    <div class="slide-content">
                        <h2>Elegant Craftsmanship</h2>
                        <p>Experience timeless elegance with our handcrafted luxury timepieces.</p>
                    </div>
                </div>
                <div class="slide">
                    <img src="/api/placeholder/500/300" alt="Smart Watch" />
                    <div class="slide-content">
                        <h2>Smart Technology</h2>
                        <p>Stay connected with cutting-edge smartwatches designed for modern life.</p>
                    </div>
                </div>
                <div class="slide">
                    <img src="/api/placeholder/500/300" alt="Sports Watch" />
                    <div class="slide-content">
                        <h2>Performance Driven</h2>
                        <p>Push your limits with durable sports watches built for adventure.</p>
                    </div>
                </div>
                <div class="slide-indicators">
                    <div class="indicator active" data-index="0"></div>
                    <div class="indicator" data-index="1"></div>
                    <div class="indicator" data-index="2"></div>
                </div>
            </div>
        </div>

        <!-- Auth Side -->
        <div class="auth-container">
            <div class="logo">
                <h1>YTime</h1>
            </div>
            <div class="auth-form" id="loginForm">
                <h2 class="form-title">Sign In</h2>
                <div class="social-auth">
                    <button class="social-btn" id="googleSignIn" title="Sign in with Google">
                        <svg width="24" height="24" viewBox="0 0 24 24">
                            <path fill="#EA4335" d="M5.266 9.765A7.077 7.077 0 0 1 12 4.909c1.69 0 3.218.6 4.418 1.582L19.91 3C17.782 1.145 15.055 0 12 0 7.27 0 3.198 2.698 1.24 6.65l4.026 3.115Z"/>
                            <path fill="#34A853" d="M16.04 18.013c-1.09.703-2.474 1.078-4.04 1.078a7.077 7.077 0 0 1-6.723-4.823l-4.04 3.067A11.965 11.965 0 0 0 12 24c2.933 0 5.735-1.043 7.834-3l-3.793-2.987Z"/>
                            <path fill="#4A90E2" d="M19.834 21c2.195-2.048 3.62-5.096 3.62-9 0-.71-.109-1.473-.272-2.182H12v4.637h6.436c-.317 1.559-1.17 2.766-2.395 3.558L19.834 21Z"/>
                            <path fill="#FBBC05" d="M5.277 14.268A7.12 7.12 0 0 1 4.909 12c0-.782.125-1.533.357-2.235L1.24 6.65A11.934 11.934 0 0 0 0 12c0 1.92.445 3.73 1.237 5.335l4.04-3.067Z"/>
                        </svg>
                    </button>
                    <button class="social-btn" id="appleSignIn" title="Sign in with Apple">
                        <svg width="24" height="24" viewBox="0 0 24 24">
                            <path fill="white" d="M17.05 12.536c-.021-2.403 1.972-3.59 2.062-3.643-1.132-1.645-2.886-1.87-3.497-1.89-1.466-.156-2.898.89-3.65.89-.767 0-1.93-.876-3.177-.851-1.613.024-3.13.961-3.968 2.426-1.72 2.976-.435 7.356 1.213 9.765.834 1.193 1.807 2.526 3.086 2.48 1.246-.052 1.713-.795 3.22-.795 1.491 0 1.925.795 3.23.767 1.339-.022 2.182-1.202 2.99-2.404.956-1.368 1.343-2.712 1.36-2.78-.032-.011-2.598-.988-2.625-3.937-.021-1.024.307-2.195 1.163-2.868-.695-.978-1.732-1.088-2.101-1.108-1.046-.096-2.004.577-2.504.577-.526 0-1.325-.552-2.33-.552zM19.33 6.106c.69-.862 1.16-2.057.97-3.246-.938.039-2.106.644-2.772 1.458-.596.69-1.12 1.815-.982 2.887 1.042.08 2.128-.525 2.784-1.1z" />
                        </svg>
                    </button>
                </div>
                <div class="divider">
                    <span>or sign in with email</span>
                </div>
                <p class="info-text">Enter your email address and we'll send you a magic link to sign in instantly - no password needed!</p>
                <form id="emailLoginForm">
                    <div class="form-group">
                        <label for="email">Email Address</label>
                        <input type="email" id="email" placeholder="your@email.com" required>
                    </div>
                    <button type="submit" class="btn">Send Sign In Link</button>
                </form>
                <div class="terms">
                    <p>By signing in, you agree to our <a href="terms.html">Terms & Conditions</a> and <a href="privacy.html">Privacy Policy</a></p>
                </div>
            </div>
        </div>
    </div>

    <script>
// Firebase Configuration
const firebaseConfig = {
    apiKey: "AIzaSyAR8q6YrTcdQ_gJriuT_LLXHTJRe3MXpCQ",
    authDomain: "ytime-25968.firebaseapp.com",
    projectId: "ytime-25968",
    storageBucket: "ytime-25968.firebasestorage.app",
    messagingSenderId: "423787298021",
    appId: "1:423787298021:web:58446b52b55407f313680c"
};

// Initialize Firebase
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();

// DOM Elements
const emailLoginForm = document.getElementById('emailLoginForm');
const googleSignIn = document.getElementById('googleSignIn');
const appleSignIn = document.getElementById('appleSignIn');

// Function to handle successful login
function handleSuccessfulLogin(user) {
    // Store user email in localStorage
    localStorage.setItem('userEmail', user.email);
    
    // You can store additional user info if needed
    if (user.displayName) {
        localStorage.setItem('userName', user.displayName);
    }
    
    // Show success message
    swal({
        title: "Success!",
        text: "You have successfully signed in!",
        icon: "success",
        button: "Continue",
    }).then(() => {
        // Redirect to index.html after successful login
        window.location.href = "index.html";
    });
}

// Email Link Authentication
emailLoginForm.addEventListener('submit', (e) => {
    e.preventDefault();
    const email = document.getElementById('email').value;
    
    // Configure email link authentication
    const actionCodeSettings = {
        // URL you want to redirect to after email is verified
        url: window.location.href,
        handleCodeInApp: true
    };
    
    auth.sendSignInLinkToEmail(email, actionCodeSettings)
        .then(() => {
            // Save the email for later use (to match with the link)
            window.localStorage.setItem('emailForSignIn', email);
            
            swal({
                title: "Email Sent!",
                text: "Check your email for a sign-in link. Click the link to sign in.",
                icon: "success",
                button: "OK",
            });
        })
        .catch((error) => {
            swal({
                title: "Error!",
                text: error.message,
                icon: "error",
                button: "Try Again",
            });
        });
});

// Check if the user is opening a sign-in link
if (auth.isSignInWithEmailLink(window.location.href)) {
    // Get email from localStorage that we saved when sending the link
    let email = window.localStorage.getItem('emailForSignIn');
    
    // If no stored email, prompt the user for it
    if (!email) {
        email = window.prompt('Please provide your email for confirmation');
    }
    
    // Complete the sign-in process
    auth.signInWithEmailLink(email, window.location.href)
        .then((result) => {
            // Clear the email from storage
            window.localStorage.removeItem('emailForSignIn');
            
            // Handle successful login
            handleSuccessfulLogin(result.user);
        })
        .catch((error) => {
            swal({
                title: "Error!",
                text: error.message,
                icon: "error",
                button: "Try Again",
            });
        });
}

// Google Authentication
googleSignIn.addEventListener('click', () => {
    const provider = new firebase.auth.GoogleAuthProvider();
    
    auth.signInWithPopup(provider)
        .then((result) => {
            // Handle successful login
            handleSuccessfulLogin(result.user);
        })
        .catch((error) => {
            swal({
                title: "Error!",
                text: error.message,
                icon: "error",
                button: "OK",
            });
        });
});

// Apple Authentication
appleSignIn.addEventListener('click', () => {
    const provider = new firebase.auth.OAuthProvider('apple.com');
    
    auth.signInWithPopup(provider)
        .then((result) => {
            // Handle successful login
            handleSuccessfulLogin(result.user);
        })
        .catch((error) => {
            swal({
                title: "Error!",
                text: error.message,
                icon: "error",
                button: "OK",
            });
        });
});

// Slideshow functionality
let currentSlide = 0;
const slides = document.querySelectorAll('.slide');
const indicators = document.querySelectorAll('.indicator');
const slideCount = slides.length;

function showSlide(index) {
    // Hide all slides
    slides.forEach(slide => {
        slide.classList.remove('active');
    });
    
    // Remove active state from all indicators
    indicators.forEach(indicator => {
        indicator.classList.remove('active');
    });
    
    // Show the selected slide and indicator
    slides[index].classList.add('active');
    indicators[index].classList.add('active');
    
    // Update current slide index
    currentSlide = index;
}

// Automatic slideshow
setInterval(() => {
    let nextSlide = (currentSlide + 1) % slideCount;
    showSlide(nextSlide);
}, 5000);

// Click on indicators to change slides
indicators.forEach(indicator => {
    indicator.addEventListener('click', () => {
        const slideIndex = parseInt(indicator.getAttribute('data-index'));
        showSlide(slideIndex);
    });
});

// Check authentication state
auth.onAuthStateChanged((user) => {
    if (user) {
        // User is signed in
        console.log("User is signed in:", user);
        
        // Store user info in localStorage (in case they refresh the page)
        localStorage.setItem('userEmail', user.email);
        if (user.displayName) {
            localStorage.setItem('userName', user.displayName);
        }
        
        // If on the login page, redirect to index.html
        if (!window.location.href.includes('index.html')) {
            window.location.href = "index.html";
        }
    } else {
        // User is signed out
        console.log("No user is signed in");
        
        // If on a protected page (not login page), redirect back to login
        if (window.location.href.includes('index.html')) {
            // You can uncomment this if you want to force users to log in to view index.html
            // window.location.href = "login.html"; // or whatever your login page is called
        }
    }
});
    </script>
</body>
</html>
