<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YTime Luxury - Timeless Elegance</title>
    <meta name="description" content="Explore our collection of luxury and budget-friendly watches. Find the perfect timepiece with free shipping & great deals.">
    <meta name="keywords" content="watches, luxury watches, men's watches, women's watches, smartwatches, sports watches">
    <link rel="icon" href="/Y-Time Luxury.png" type="image/x-icon">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <!-- Lordicons -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lordicon/1.2.0/lordicon.min.js"></script>
    
    <!-- GSAP and ScrollTrigger -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    
    <!-- Swiper -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.4.1/swiper-bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    
    <style>
      /* Base Styles & Variables */
:root {
  --dark-bg: #0a0d14;
  --dark-blue: #101726;
  --medium-blue: #1e3a8a;
  --light-blue: #3b5dc9;
  --gold: #c8a951;
  --light-gold: #d4b967;
  --white: #ffffff;
  --off-white: #f0f0f0;
  --gray: #9ca3af;
  --black: #000000;
  --text: #e6e6e6;
  --transition: all 0.3s ease;
  --border-radius: 4px;
}

/* Reset & Global Styles */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
  scrollbar-width: thin;
  scrollbar-color: var(--gold) var(--dark-blue);
}

body {
  font-family: 'Montserrat', sans-serif;
  background: linear-gradient(135deg, var(--dark-bg) 0%, var(--dark-blue) 100%);
  color: var(--text);
  line-height: 1.6;
  overflow-x: hidden;
}

/* Custom Scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: var(--dark-blue);
}

::-webkit-scrollbar-thumb {
  background: var(--gold);
  border-radius: 10px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--light-gold);
}

/* Container */
.container {
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 20px;
}

/* Typography */
h1, h2, h3, h4, h5, h6 {
  font-weight: 600;
  margin-bottom: 1rem;
  letter-spacing: 0.5px;
}

p {
  margin-bottom: 1rem;
}

a {
  color: var(--text);
  text-decoration: none;
  transition: var(--transition);
}

a:hover {
  color: var(--gold);
}

/* Section Styles */
section {
  padding: 80px 0;
  position: relative;
}

.section-title-container {
  text-align: center;
  margin-bottom: 50px;
}

.section-title {
  font-size: 2.5rem;
  position: relative;
  display: inline-block;
  margin-bottom: 15px;
  color: var(--white);
}

.gold-underline::after {
  content: '';
  position: absolute;
  left: 50%;
  bottom: -10px;
  transform: translateX(-50%);
  width: 80px;
  height: 3px;
  background: linear-gradient(90deg, transparent, var(--gold), transparent);
}

.section-subtitle {
  color: var(--gray);
  font-size: 1.1rem;
  max-width: 700px;
  margin: 0 auto;
}

/* Button Styles */
.btn {
  display: inline-block;
  padding: 12px 28px;
  border-radius: var(--border-radius);
  font-weight: 600;
  letter-spacing: 1px;
  text-transform: uppercase;
  cursor: pointer;
  transition: var(--transition);
  border: none;
  font-size: 0.9rem;
}

.btn-primary {
  background: linear-gradient(135deg, var(--gold) 0%, var(--light-gold) 100%);
  color: var(--dark-blue);
  box-shadow: 0 4px 15px rgba(200, 169, 81, 0.3);
}

.btn-primary:hover {
  transform: translateY(-3px);
  box-shadow: 0 8px 20px rgba(200, 169, 81, 0.4);
  color: var(--dark-blue);
}

.btn-effect {
  position: relative;
  overflow: hidden;
  z-index: 1;
}

.btn-effect:after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(255, 255, 255, 0.2);
  z-index: -2;
  transform: scaleX(0);
  transform-origin: right;
  transition: transform 0.5s ease;
}

.btn-effect:hover:after {
  transform: scaleX(1);
  transform-origin: left;
}

/* Navigation */
.navbar {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  z-index: 1000;
  padding: 15px 0;
  background: rgba(10, 13, 20, 0.9);
  backdrop-filter: blur(10px);
  box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
  transition: var(--transition);
}

.navbar.scrolled {
  padding: 10px 0;
  background: rgba(10, 13, 20, 0.95);
}

.navbar-container {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.logo {
  display: flex;
  align-items: center;
}

.logo img {
  height: 40px;
  margin-right: 10px;
}

.logo-text {
  font-size: 1.8rem;
  font-weight: 700;
  color: var(--white);
  letter-spacing: 1px;
}

.logo-text:after {
  content: 'Luxury';
  font-size: 0.7rem;
  font-weight: 400;
  color: var(--gold);
  letter-spacing: 3px;
  text-transform: uppercase;
  display: block;
  margin-top: -5px;
}

.nav-links {
  display: flex;
  list-style: none;
}

.nav-link {
  margin: 0 15px;
  padding: 5px 0;
  position: relative;
  font-weight: 500;
}

.nav-link::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 2px;
  background: var(--gold);
  transform: scaleX(0);
  transform-origin: right;
  transition: transform 0.3s ease;
}

.nav-link:hover::after {
  transform: scaleX(1);
  transform-origin: left;
}

.nav-icons-container {
  display: flex;
  align-items: center;
}

.cart-icon {
  position: relative;
  margin-right: 20px;
  font-size: 1.2rem;
  cursor: pointer;
}

.cart-count {
  position: absolute;
  top: -8px;
  right: -8px;
  width: 18px;
  height: 18px;
  background: var(--gold);
  color: var(--black);
  border-radius: 50%;
  font-size: 0.7rem;
  font-weight: 600;
  display: flex;
  align-items: center;
  justify-content: center;
}

.auth-button {
  background: transparent;
  border: 1px solid var(--gold);
  color: var(--gold);
  padding: 8px 16px;
  border-radius: var(--border-radius);
  cursor: pointer;
  transition: var(--transition);
  font-weight: 500;
}

.auth-button:hover {
  background: var(--gold);
  color: var(--dark-blue);
}

.hamburger {
  display: none;
  flex-direction: column;
  cursor: pointer;
}

.hamburger span {
  width: 25px;
  height: 2px;
  background: var(--white);
  margin: 4px 0;
  transition: var(--transition);
}

/* Hero Section */
.hero {
  height: 100vh;
  display: flex;
  align-items: center;
  background: linear-gradient(135deg, rgba(10, 13, 20, 0.9) 0%, rgba(30, 58, 138, 0.8) 100%);
  position: relative;
  overflow: hidden;
  padding-top: 80px;
}

.hero-bg-elements {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -1;
}

.hero-bg-elements::before {
  content: '';
  position: absolute;
  top: -50%;
  right: -50%;
  width: 100%;
  height: 100%;
  background: radial-gradient(ellipse at center, rgba(30, 58, 138, 0.3) 0%, rgba(10, 13, 20, 0) 70%);
  transform: rotate(45deg);
}

.hero-bg-elements::after {
  content: '';
  position: absolute;
  bottom: -50%;
  left: -50%;
  width: 100%;
  height: 100%;
  background: radial-gradient(ellipse at center, rgba(30, 58, 138, 0.3) 0%, rgba(10, 13, 20, 0) 70%);
  transform: rotate(45deg);
}

.hero .container {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.hero-content {
  flex: 1;
  max-width: 550px;
  animation: fadeInLeft 1s ease-out;
}

.hero h1 {
  font-size: 3.5rem;
  line-height: 1.2;
  margin-bottom: 20px;
}

.hero-luxury {
  color: var(--gold);
  position: relative;
  display: inline-block;
}

.hero-luxury::after {
  content: '';
  position: absolute;
  bottom: 5px;
  left: 0;
  width: 100%;
  height: 3px;
  background: var(--gold);
  transform: scaleX(0);
  transform-origin: left;
  animation: underlineExpand 1.5s forwards 0.5s;
}

.hero p {
  font-size: 1.1rem;
  color: var(--gray);
  margin-bottom: 30px;
}

.hero-image {
  flex: 1;
  display: flex;
  justify-content: center;
  animation: fadeInRight 1s ease-out;
}

.watch-container {
  position: relative;
  width: 300px;
  height: 500px;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.watch-strap-detail {
  width: 60%;
  height: 10px;
  background: linear-gradient(90deg, var(--black), var(--dark-blue), var(--black));
  margin: 5px 0;
  border-radius: 5px;
}

.iframe-container {
  width: 220px;
  height: 220px;
  background: var(--dark-bg);
  border-radius: 50%;
  border: 8px solid var(--dark-blue);
  box-shadow: 0 0 30px rgba(30, 58, 138, 0.5), inset 0 0 20px rgba(0, 0, 0, 0.5);
  position: relative;
  overflow: hidden;
  margin: 10px 0;
}

.watch-crown {
  position: absolute;
  right: -12px;
  top: 50%;
  transform: translateY(-50%);
  width: 12px;
  height: 25px;
  background: var(--gold);
  border-radius: 3px 0 0 3px;
  z-index: 10;
}

.iframe-container iframe {
  width: 100%;
  height: 100%;
  border: none;
}

/* Brands Section */
.brands {
  padding: 50px 0;
  background: linear-gradient(to right, var(--dark-bg), var(--dark-blue), var(--dark-bg));
}

.brands-title {
  text-align: center;
  margin-bottom: 40px;
  font-size: 1.8rem;
  color: var(--white);
}

.brands-container {
  display: flex;
  justify-content: space-around;
  align-items: center;
  flex-wrap: wrap;
}

.brand-logo {
  height: 50px;
  margin: 15px;
  filter: grayscale(100%) brightness(1.2);
  transition: var(--transition);
  opacity: 0.7;
}

.brand-logo:hover {
  filter: grayscale(0%);
  opacity: 1;
  transform: scale(1.05);
}

/* Collection Section */
.watches-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 30px;
}

.watch-card {
  background: linear-gradient(145deg, var(--dark-bg) 0%, var(--dark-blue) 100%);
  border-radius: 10px;
  overflow: hidden;
  box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
  transition: var(--transition);
  position: relative;
}

.watch-card:hover {
  transform: translateY(-10px);
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
}

.watch-image-container {
  position: relative;
  height: 250px;
  overflow: hidden;
}

.watch-tag {
  position: absolute;
  top: 15px;
  left: 15px;
  padding: 5px 10px;
  border-radius: var(--border-radius);
  font-size: 0.7rem;
  font-weight: 600;
  text-transform: uppercase;
  z-index: 10;
}

.watch-tag.new {
  background: var(--medium-blue);
  color: var(--white);
}

.watch-tag.sale {
  background: #e53935;
  color: var(--white);
}

.watch-tag.limited {
  background: var(--gold);
  color: var(--dark-blue);
}

.watch-images {
  height: 100%;
  position: relative;
}

.watch-image {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  opacity: 0;
  transition: opacity 0.5s ease;
}

.watch-image.active {
  opacity: 1;
}
/* Continue from watch-image.active */
.image-dots {
  position: absolute;
  bottom: 15px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  justify-content: center;
  gap: 8px;
}

.dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.5);
  cursor: pointer;
  transition: var(--transition);
}

.dot.active {
  background: var(--gold);
  transform: scale(1.2);
}

.watch-content {
  padding: 20px;
}

.watch-brand {
  display: block;
  font-size: 0.8rem;
  color: var(--gold);
  text-transform: uppercase;
  letter-spacing: 1px;
  margin-bottom: 5px;
}

.watch-name {
  font-size: 1.4rem;
  margin-bottom: 10px;
  color: var(--white);
}

.watch-description {
  color: var(--gray);
  font-size: 0.9rem;
  margin-bottom: 20px;
}

.watch-footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.watch-price {
  font-size: 1.2rem;
  font-weight: 600;
  color: var(--white);
}

.add-to-cart {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: var(--gold);
  color: var(--dark-blue);
  border: none;
  cursor: pointer;
  transition: var(--transition);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1rem;
}

.add-to-cart:hover {
  background: var(--light-gold);
  transform: scale(1.1);
}

/* Luxury Slider */
.luxury-slider {
  padding: 60px 0;
  background: linear-gradient(135deg, var(--dark-bg) 0%, var(--dark-blue) 100%);
}

.swiper-container {
  overflow: hidden;
  padding: 30px 0;
}

.swiper-slide {
  background: linear-gradient(145deg, rgba(16, 23, 38, 0.8) 0%, rgba(10, 13, 20, 0.8) 100%);
  border-radius: 10px;
  padding: 30px;
  box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
  transition: var(--transition);
}

.swiper-slide:hover {
  transform: translateY(-10px);
}

.swiper-button-next,
.swiper-button-prev {
  color: var(--gold);
  background: rgba(10, 13, 20, 0.5);
  width: 40px;
  height: 40px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
}

.swiper-button-next:after,
.swiper-button-prev:after {
  font-size: 1.2rem;
}

.swiper-pagination-bullet {
  background: var(--gray);
  opacity: 0.5;
}

.swiper-pagination-bullet-active {
  background: var(--gold);
  opacity: 1;
}

/* Services Section */
.services-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: 2rem;
  padding: 1.5rem 0;
}

.service-card {
  background: linear-gradient(145deg, rgba(16, 23, 38, 0.9) 0%, rgba(10, 13, 20, 0.95) 100%);
  border-radius: 12px;
  padding: 2rem 1.75rem;
  text-align: center;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
  transition: all 0.4s ease;
  border: 1px solid rgba(30, 58, 138, 0.3);
  position: relative;
  overflow: hidden;
}

.service-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 3px;
  background: linear-gradient(90deg, transparent, var(--gold), transparent);
  transform: scaleX(0);
  transform-origin: left;
  transition: transform 0.4s ease;
}

.service-card:hover {
  transform: translateY(-12px);
  box-shadow: 0 20px 35px rgba(0, 0, 0, 0.25);
  border-color: rgba(30, 58, 138, 0.6);
}

.service-card:hover::before {
  transform: scaleX(1);
}

.service-icon {
  width: 80px;
  height: 80px;
  margin: 0 auto 1.5rem;
  padding: 0.75rem;
  border-radius: 50%;
  background: rgba(30, 58, 138, 0.1);
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s ease;
}

.service-card:hover .service-icon {
  transform: scale(1.1);
  background: rgba(30, 58, 138, 0.2);
}

.service-icon svg {
  width: 60%;
  height: 60%;
  fill: var(--gold);
  transition: all 0.3s ease;
}

.service-card:hover .service-icon svg {
  filter: drop-shadow(0 0 5px var(--gold));
}

.service-title {
  font-size: 1.4rem;
  font-weight: 600;
  margin-bottom: 1rem;
  color: var(--white);
  transition: all 0.3s ease;
}

.service-card:hover .service-title {
  color: var(--gold);
}

.service-description {
  color: var(--gray);
  font-size: 1rem;
  line-height: 1.6;
  margin-bottom: 1rem;
}

/* Add a subtle button/link at the bottom */
.service-link {
  display: inline-block;
  color: rgba(255, 255, 255, 0.6);
  font-size: 0.9rem;
  font-weight: 500;
  margin-top: 1rem;
  opacity: 0;
  transform: translateY(10px);
  transition: all 0.3s ease;
}

.service-card:hover .service-link {
  opacity: 1;
  transform: translateY(0);
  color: var(--gold);
}

/* Media queries for responsiveness */
@media (max-width: 768px) {
  .services-grid {
    grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
    gap: 1.5rem;
  }
  
  .service-card {
    padding: 1.75rem 1.25rem;
  }
  
  .service-icon {
    width: 70px;
    height: 70px;
  }
  
  .service-title {
    font-size: 1.3rem;
  }
}

/* Newsletter Section */
.newsletter {
  padding: 80px 0;
  background: linear-gradient(135deg, var(--dark-blue) 0%, var(--dark-bg) 100%);
  position: relative;
  overflow: hidden;
}

.newsletter::before {
  content: '';
  position: absolute;
  top: -100px;
  right: -100px;
  width: 300px;
  height: 300px;
  border-radius: 50%;
  background: radial-gradient(ellipse at center, rgba(200, 169, 81, 0.1) 0%, rgba(200, 169, 81, 0) 70%);
}

.newsletter::after {
  content: '';
  position: absolute;
  bottom: -100px;
  left: -100px;
  width: 300px;
  height: 300px;
  border-radius: 50%;
  background: radial-gradient(ellipse at center, rgba(200, 169, 81, 0.1) 0%, rgba(200, 169, 81, 0) 70%);
}

.newsletter-container {
  max-width: 600px;
  margin: 0 auto;
  text-align: center;
  position: relative;
  z-index: 1;
}

.newsletter-form {
  display: flex;
  margin-top: 30px;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
  border-radius: var(--border-radius);
  overflow: hidden;
}

.newsletter-input {
  flex: 1;
  padding: 15px 20px;
  border: none;
  background: rgba(255, 255, 255, 0.05);
  color: var(--white);
  font-size: 1rem;
}

.newsletter-input::placeholder {
  color: var(--gray);
}

.newsletter-input:focus {
  outline: none;
}

.newsletter-btn {
  padding: 0 25px;
  background: linear-gradient(135deg, var(--gold) 0%, var(--light-gold) 100%);
  color: var(--dark-blue);
  border: none;
  font-weight: 600;
  cursor: pointer;
  transition: var(--transition);
}

.newsletter-btn:hover {
  background: linear-gradient(135deg, var(--light-gold) 0%, var(--gold) 100%);
}

/* Footer */
.footer {
  background: var(--dark-bg);
  color: var(--text);
  padding: 80px 0 20px;
  position: relative;
}

.footer::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 1px;
  background: linear-gradient(to right, transparent, var(--gold), transparent);
}

.footer-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  gap: 40px;
  margin-bottom: 50px;
}

.footer-logo {
  display: flex;
  align-items: center;
  margin-bottom: 20px;
}

.footer-logo img {
  height: 35px;
  margin-right: 10px;
}

.footer-about {
  color: var(--gray);
  font-size: 0.9rem;
  margin-bottom: 20px;
}

.footer-social {
  display: flex;
  gap: 15px;
}

.social-icon {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background: rgba(30, 58, 138, 0.3);
  display: flex;
  align-items: center;
  justify-content: center;
  transition: var(--transition);
}

.social-icon:hover {
  background: var(--gold);
  color: var(--dark-blue);
  transform: translateY(-3px);
}

.footer-heading {
  font-size: 1.2rem;
  margin-bottom: 20px;
  color: var(--white);
  position: relative;
  padding-bottom: 10px;
}

.footer-heading::after {
  content: '';
  position: absolute;
  left: 0;
  bottom: 0;
  width: 30px;
  height: 2px;
  background: var(--gold);
}

.footer-links {
  list-style: none;
}

.footer-links li {
  margin-bottom: 10px;
}

.footer-links a {
  color: var(--gray);
  transition: var(--transition);
  font-size: 0.9rem;
}

.footer-links a:hover {
  color: var(--gold);
  padding-left: 5px;
}

.footer-contact-item {
  display: flex;
  align-items: center;
  margin-bottom: 15px;
  color: var(--gray);
  font-size: 0.9rem;
}

.footer-contact-item i {
  width: 20px;
  margin-right: 10px;
  color: var(--gold);
}

.footer-bottom {
  text-align: center;
  padding-top: 20px;
  border-top: 1px solid rgba(255, 255, 255, 0.05);
  color: var(--gray);
  font-size: 0.8rem;
}

/* Animations */
@keyframes fadeInLeft {
  from {
    opacity: 0;
    transform: translateX(-30px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes fadeInRight {
  from {
    opacity: 0;
    transform: translateX(30px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes underlineExpand {
  to {
    transform: scaleX(1);
  }
}

/* Smooth transitions for all hover effects */
a, button, .watch-card, .service-card, .brand-logo {
  transition: all 0.3s cubic-bezier(0.25, 0.1, 0.25, 1);
}

/* Responsive Design */
@media (max-width: 1024px) {
  .hero h1 {
    font-size: 3rem;
  }
  
  .hero-content {
    max-width: 450px;
  }
  
  .watch-container {
    width: 250px;
    height: 450px;
  }
  
  .iframe-container {
    width: 180px;
    height: 180px;
  }
}

@media (max-width: 768px) {
  .navbar-container {
    position: relative;
  }
  
  .hamburger {
    display: flex;
  }
  
  .nav-links {
    position: absolute;
    top: 100%;
    left: 0;
    width: 100%;
    flex-direction: column;
    background: var(--dark-bg);
    padding: 20px;
    border-radius: 0 0 var(--border-radius) var(--border-radius);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
    opacity: 0;
    visibility: hidden;
    transform: translateY(-10px);
    transition: var(--transition);
  }
  
  .nav-links.active {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
  }
  
  .nav-links li {
    margin: 10px 0;
  }
  
  .hero .container {
    flex-direction: column;
    text-align: center;
    padding: 20px 0;
  }
  
  .hero-content {
    margin-bottom: 40px;
  }
  
  .hero h1 {
    font-size: 2.5rem;
  }
  
  .brands-container {
    flex-wrap: wrap;
  }
  
  .brand-logo {
    margin: 10px;
    height: 40px;
  }
  
  .newsletter-form {
    flex-direction: column;
  }
  
  .newsletter-input {
    width: 100%;
    padding: 15px;
  }
  
  .newsletter-btn {
    width: 100%;
    padding: 15px;
  }
}

@media (max-width: 576px) {
  .section-title {
    font-size: 2rem;
  }
  
  .hero h1 {
    font-size: 2rem;
  }
  
  .watches-grid, .services-grid {
    grid-template-columns: 1fr;
  }
  
  .footer-grid {
    grid-template-columns: 1fr;
  }
  
  .watch-container {
    width: 220px;
    height: 400px;
  }
  
  .iframe-container {
    width: 160px;
    height: 160px;
  }
}

/* Class for Activated Hamburger Menu */
.hamburger.active span:nth-child(1) {
  transform: rotate(45deg) translate(5px, 5px);
}

.hamburger.active span:nth-child(2) {
  transform: rotate(-45deg) translate(0, -1px);
}

/* Additional animations for page elements */
.animate-fade-in {
  animation: fadeIn 1s ease-out forwards;
}

.animate-slide-up {
  animation: slideUp 0.8s ease-out forwards;
}

.animate-scale {
  animation: scale 0.5s ease-out forwards;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes scale {
  from {
    transform: scale(0.8);
  }
  to {
    transform: scale(1);
  }
}

/* Scroll reveal classes */
.reveal {
  position: relative;
  opacity: 0;
  transition: all 1s ease;
}

.reveal.active {
  opacity: 1;
}

.reveal.fade-bottom {
  transform: translateY(50px);
}

.reveal.fade-bottom.active {
  transform: translateY(0);
}

.reveal.fade-left {
  transform: translateX(-50px);
}

.reveal.fade-left.active {
  transform: translateX(0);
}

.reveal.fade-right {
  transform: translateX(50px);
}

.reveal.fade-right.active {
  transform: translateX(0);
}

/* Staggered reveal for grid items */
.stagger-reveal > * {
  opacity: 0;
  transform: translateY(30px);
  transition: all 0.8s ease;
}

.stagger-reveal.active > *:nth-child(1) {
  opacity: 1;
  transform: translateY(0);
  transition-delay: 0.1s;
}

.stagger-reveal.active > *:nth-child(2) {
  opacity: 1;
  transform: translateY(0);
  transition-delay: 0.2s;
}

.stagger-reveal.active > *:nth-child(3) {
  opacity: 1;
  transform: translateY(0);
  transition-delay: 0.3s;
}

.stagger-reveal.active > *:nth-child(4) {
  opacity: 1;
  transform: translateY(0);
  transition-delay: 0.4s;
}

.stagger-reveal.active > *:nth-child(5) {
  opacity: 1;
  transform: translateY(0);
  transition-delay: 0.5s;
}

.stagger-reveal.active > *:nth-child(6) {
  opacity: 1;
  transform: translateY(0);
  transition-delay: 0.6s;
}

/* Parallax effect */
.parallax {
  position: relative;
  overflow: hidden;
}

.parallax-bg {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 120%;
  background-position: center;
  background-size: cover;
  z-index: -1;
  transform: translateZ(-1px) scale(2);
}

/* Gold accent hover effects */
.gold-accent {
  position: relative;
  padding: 2px 0;
}

.gold-accent::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 0;
  height: 1px;
  background: var(--gold);
  transition: width 0.3s ease;
}

.gold-accent:hover::after {
  width: 100%;
}

/* Shimmering effect for luxury elements */
.shimmer {
  position: relative;
  overflow: hidden;
}

.shimmer::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 50%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.1),
    transparent
  );
  transform: skewX(-25deg);
  animation: shimmer 3s infinite;
}

@keyframes shimmer {
  0% {
    left: -100%;
  }
  100% {
    left: 150%;
  }
}

/* Custom scrollbar for containers */
.custom-scrollbar {
  scrollbar-width: thin;
  scrollbar-color: var(--gold) var(--dark-blue);
}

.custom-scrollbar::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

.custom-scrollbar::-webkit-scrollbar-track {
  background: var(--dark-blue);
  border-radius: 10px;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  background: var(--gold);
  border-radius: 10px;
}

/* Glass morphism effect */
.glass-effect {
  background: rgba(16, 23, 38, 0.7);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(200, 169, 81, 0.1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
}

/* Watch face animation */
@keyframes watchTick {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

.watch-second-hand {
  transform-origin: center;
  animation: watchTick 60s linear infinite;
}

.watch-minute-hand {
  transform-origin: center;
  animation: watchTick 3600s linear infinite;
}

.watch-hour-hand {
  transform-origin: center;
  animation: watchTick 43200s linear infinite;
}

/* Modal styles */
.modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(10, 13, 20, 0.8);
  backdrop-filter: blur(5px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 2000;
  opacity: 0;
  visibility: hidden;
  transition: all 0.3s ease;
}

.modal.active {
  opacity: 1;
  visibility: visible;
}

.modal-content {
  background: linear-gradient(135deg, var(--dark-bg) 0%, var(--dark-blue) 100%);
  border-radius: 10px;
  padding: 30px;
  max-width: 500px;
  width: 90%;
  position: relative;
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
  transform: scale(0.9);
  transition: all 0.3s ease;
}

.modal.active .modal-content {
  transform: scale(1);
}

.modal-close {
  position: absolute;
  top: 15px;
  right: 15px;
  width: 30px;
  height: 30px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.1);
  border: none;
  color: var(--white);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: var(--transition);
}

.modal-close:hover {
  background: var(--gold);
  color: var(--dark-blue);
}

/* Cart dropdown */
.cart-dropdown {
  position: absolute;
  top: 100%;
  right: 0;
  width: 300px;
  background: linear-gradient(135deg, var(--dark-bg) 0%, var(--dark-blue) 100%);
  border-radius: var(--border-radius);
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
  padding: 20px;
  z-index: 100;
  opacity: 0;
  visibility: hidden;
  transform: translateY(10px);
  transition: var(--transition);
}

.cart-icon:hover .cart-dropdown {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
}

.cart-item {
  display: flex;
  align-items: center;
  margin-bottom: 15px;
  padding-bottom: 15px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.cart-item-image {
  width: 50px;
  height: 50px;
  object-fit: cover;
  border-radius: 5px;
  margin-right: 10px;
}

.cart-item-details {
  flex: 1;
}

.cart-item-name {
  font-size: 0.9rem;
  margin-bottom: 5px;
}

.cart-item-price {
  font-size: 0.8rem;
  color: var(--gold);
}

.cart-remove {
  color: var(--gray);
  background: none;
  border: none;
  cursor: pointer;
  font-size: 0.9rem;
  transition: var(--transition);
}

.cart-remove:hover {
  color: #e53935;
}

.cart-total {
  display: flex;
  justify-content: space-between;
  margin: 15px 0;
  font-weight: 600;
}

.checkout-btn {
  width: 100%;
  padding: 10px;
  background: linear-gradient(135deg, var(--gold) 0%, var(--light-gold) 100%);
  color: var(--dark-blue);
  border: none;
  border-radius: var(--border-radius);
  font-weight: 600;
  cursor: pointer;
  transition: var(--transition);
}

.checkout-btn:hover {
  transform: translateY(-3px);
  box-shadow: 0 5px 15px rgba(200, 169, 81, 0.3);
}

/* Image zoom effect */
.zoom-effect {
  overflow: hidden;
}

.zoom-effect img {
  transition: transform 0.5s ease;
}

.zoom-effect:hover img {
  transform: scale(1.1);
}

/* Custom form inputs */
.custom-input {
  width: 100%;
  padding: 12px 15px;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: var(--border-radius);
  color: var(--white);
  transition: var(--transition);
}

.custom-input:focus {
  border-color: var(--gold);
  outline: none;
  box-shadow: 0 0 0 2px rgba(200, 169, 81, 0.2);
}

.custom-input::placeholder {
  color: var(--gray);
}

/* Final touches and utility classes */
.text-gold {
  color: var(--gold);
}

.bg-dark-blue {
  background: var(--dark-blue);
}

.shadow-gold {
  box-shadow: 0 5px 15px rgba(200, 169, 81, 0.2);
}

.border-gold {
  border: 1px solid var(--gold);
}

.hidden {
  display: none;
}

.text-center {
  text-align: center;
}

.font-light {
  font-weight: 300;
}

.font-bold {
  font-weight: 700;
}

.uppercase {
  text-transform: uppercase;
}

.letter-spacing {
  letter-spacing: 2px;
}

/* Preloader */
.preloader {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: var(--dark-bg);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  transition: opacity 0.5s ease, visibility 0.5s ease;
}

.preloader.fade-out {
  opacity: 0;
  visibility: hidden;
}

.loader {
  width: 50px;
  height: 50px;
  border: 3px solid rgba(255, 255, 255, 0.1);
  border-radius: 50%;
  border-top-color: var(--gold);
  animation: spin 1s ease-in-out infinite;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

/* JS Helper Classes */
.js-watch-slider-active {
  opacity: 1;
}

.js-nav-scrolled {
  background: rgba(10, 13, 20, 0.95);
  padding: 10px 0;
}

.js-accordion-active .accordion-content {
  max-height: 500px;
}

.js-accordion-active .accordion-icon {
  transform: rotate(180deg);
}

/* Print styles */
@media print {
  body {
    background: white;
    color: black;
  }
  
  .navbar, .footer, .newsletter {
    display: none;
  }
  
  .container {
    width: 100%;
    max-width: none;
    padding: 0;
  }
  
  .watch-card, .service-card {
    break-inside: avoid;
    page-break-inside: avoid;
    box-shadow: none;
    border: 1px solid #eee;
  }
  
  .section-title {
    color: black;
  }
  
  .watch-price {
    color: black;
    font-weight: bold;
  }
}
      /* About Us Section */
.about-section {
  padding: 8rem 0;
  background-color: rgba(10, 13, 20, 0.97);
  position: relative;
  overflow: hidden;
  font-family: 'Inter', 'Helvetica Neue', sans-serif;
}

.about-section::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: radial-gradient(circle at 10% 20%, rgba(30, 58, 138, 0.15) 0%, transparent 70%);
  pointer-events: none;
}

.container {
  max-width: 1280px;
  margin: 0 auto;
  padding: 0 2rem;
}

.about-header {
  text-align: center;
  margin-bottom: 5rem;
  position: relative;
}

.section-title {
  font-size: 3rem;
  font-weight: 800;
  color: var(--white);
  margin-bottom: 1.5rem;
  letter-spacing: -0.02em;
}

.title-accent {
  width: 80px;
  height: 4px;
  background: linear-gradient(90deg, transparent, var(--gold), transparent);
  margin: 0 auto 2rem;
  border-radius: 2px;
}

.section-subtitle {
  font-size: 1.25rem;
  color: var(--gray);
  font-weight: 400;
  max-width: 700px;
  margin: 0 auto;
  line-height: 1.6;
}

.about-content {
  display: grid;
  grid-template-columns: 1fr 1.2fr;
  gap: 5rem;
  align-items: center;
}

.about-image {
  position: relative;
}

.image-frame {
  position: relative;
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 25px 50px rgba(0, 0, 0, 0.4);
}

.image-frame img {
  width: 100%;
  height: auto;
  display: block;
  transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

.image-frame:hover img {
  transform: scale(1.05);
}

.image-accent {
  position: absolute;
  width: 80%;
  height: 80%;
  border: 2px solid var(--gold);
  border-radius: 16px;
  top: -25px;
  left: -25px;
  z-index: -1;
  opacity: 0.5;
  transition: all 0.4s ease;
}

.about-image:hover .image-accent {
  opacity: 0.7;
  transform: translate(5px, 5px);
}

.about-text {
  padding: 1.5rem 0;
}

.about-tagline {
  font-size: 2rem;
  font-weight: 700;
  color: var(--white);
  margin-bottom: 2rem;
  line-height: 1.2;
  letter-spacing: -0.01em;
}

.about-description {
  font-size: 1.1rem;
  line-height: 1.8;
  color: var(--gray);
  margin-bottom: 3rem;
}

.about-stats {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1.75rem;
  margin-bottom: 3rem;
}

.stat-card {
  background: linear-gradient(145deg, rgba(20, 27, 42, 0.9) 0%, rgba(10, 13, 20, 0.95) 100%);
  border-radius: 16px;
  padding: 1.75rem;
  border: 1px solid rgba(30, 58, 138, 0.3);
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  backdrop-filter: blur(10px);
}

.stat-card:hover {
  transform: translateY(-10px);
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
  border-color: var(--gold);
}

.stat-icon {
  width: 60px;
  height: 60px;
  margin-bottom: 1.25rem;
  color: var(--gold);
  background: rgba(30, 58, 138, 0.15);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0.85rem;
  transition: all 0.3s ease;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
}

.stat-card:hover .stat-icon {
  transform: scale(1.1) rotate(5deg);
  background: rgba(30, 58, 138, 0.25);
  filter: drop-shadow(0 0 8px rgba(255, 215, 0, 0.5));
}

.stat-number {
  font-size: 1.75rem;
  font-weight: 800;
  color: var(--white);
  display: block;
  margin-bottom: 0.5rem;
}

.stat-label {
  font-size: 1rem;
  color: var(--gray);
  font-weight: 500;
}

.about-cta {
  display: inline-block;
  background: linear-gradient(90deg, #d4af37, #ffd700, #d4af37);
  color: rgba(10, 13, 20, 0.97);
  padding: 1rem 2.5rem;
  border-radius: 50px;
  font-weight: 700;
  font-size: 1.05rem;
  text-decoration: none;
  transition: all 0.4s ease;
  border: none;
  position: relative;
  overflow: hidden;
  z-index: 1;
  box-shadow: 0 5px 15px rgba(212, 175, 55, 0.3);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.about-cta::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, #ffd700, #f0c14b);
  transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
  transform: scaleX(0);
  transform-origin: right;
  z-index: -1;
}

.about-cta:hover {
  box-shadow: 0 10px 25px rgba(212, 175, 55, 0.5);
  transform: translateY(-3px);
}

.about-cta:hover::before {
  transform: scaleX(1);
  transform-origin: left;
}

.about-cta:active {
  transform: translateY(0);
  box-shadow: 0 5px 15px rgba(212, 175, 55, 0.3);
}

/* Media queries for responsiveness */
@media (max-width: 1024px) {
  .about-content {
    grid-template-columns: 1fr;
    gap: 4rem;
  }
  
  .image-frame {
    max-width: 650px;
    margin: 0 auto;
  }
}

@media (max-width: 768px) {
  .about-section {
    padding: 5rem 0;
  }
  
  .section-title {
    font-size: 2.5rem;
  }
  
  .about-tagline {
    font-size: 1.75rem;
  }
  
  .about-stats {
    grid-template-columns: repeat(2, 1fr);
    gap: 1.25rem;
  }
}

@media (max-width: 576px) {
  .section-title {
    font-size: 2.2rem;
  }
  
  .about-stats {
    grid-template-columns: 1fr;
  }
  
  .stat-card {
    flex-direction: row;
    text-align: left;
    padding: 1.25rem;
    align-items: center;
  }
  
  .stat-icon {
    margin-bottom: 0;
    margin-right: 1.25rem;
    min-width: 50px;
    height: 50px;
  }
  
  .about-cta {
    width: 100%;
    text-align: center;
  }
}
/* Cart Overlay Styles */
:root {
  --gold: #d4af37;
  --gold-light: #f7e9a3;
  --black: #121212;
  --dark-blue: #0d1b2a;
  --blue: #1b263b;
  --light-blue: #415a77;
  --red: #e63946;
  --red-dark: #c1121f;
}

.cart-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(13, 27, 42, 0.7);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
    animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

.cart-modal {
    background-color: var(--black);
    color: #fff;
    border-radius: 12px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5),
                0 0 15px rgba(212, 175, 55, 0.3),
                0 0 30px rgba(212, 175, 55, 0.15);
    border: 1px solid rgba(212, 175, 55, 0.2);
    width: 90%;
    max-width: 600px;
    max-height: 90vh;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    backdrop-filter: blur(5px);
    transform: translateY(0);
    transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

.cart-modal:hover {
    transform: translateY(-5px);
}

.cart-header {
    padding: 20px;
    background: linear-gradient(135deg, var(--dark-blue), var(--blue));
    border-bottom: 2px solid var(--gold);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.cart-header h2 {
    margin: 0;
    font-size: 22px;
    font-weight: 600;
    color: var(--gold);
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}

.close-cart {
    background: none;
    border: none;
    font-size: 24px;
    cursor: pointer;
    color: var(--gold-light);
    transition: all 0.2s ease;
}

.close-cart:hover {
    color: var(--gold);
    transform: rotate(90deg);
}

.cart-items {
    padding: 20px;
    overflow-y: auto;
    max-height: 60vh;
    background-color: rgba(27, 38, 59, 0.8);
}

.cart-items::-webkit-scrollbar {
    width: 8px;
}

.cart-items::-webkit-scrollbar-track {
    background: var(--black);
    border-radius: 10px;
}

.cart-items::-webkit-scrollbar-thumb {
    background: var(--gold);
    border-radius: 10px;
}

.empty-cart {
    text-align: center;
    color: var(--gold-light);
    font-style: italic;
    padding: 30px 0;
}

.cart-item {
    display: flex;
    padding: 15px 0;
    border-bottom: 1px solid rgba(212, 175, 55, 0.2);
    position: relative;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    margin-bottom: 5px;
}

.cart-item:hover {
    transform: translateX(5px);
    background: rgba(65, 90, 119, 0.1);
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.cart-item:last-child {
    border-bottom: none;
}

.cart-item-image {
    width: 80px;
    height: 80px;
    flex-shrink: 0;
    margin-right: 15px;
    position: relative;
    overflow: hidden;
}

.cart-item-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 8px;
    border: 2px solid rgba(212, 175, 55, 0.3);
    transition: transform 0.3s ease;
}

.cart-item:hover .cart-item-image img {
    transform: scale(1.1);
}

.cart-item-details {
    flex-grow: 1;
}

.cart-item-details h3 {
    margin: 0 0 5px 0;
    font-size: 16px;
    color: var(--gold-light);
}

.cart-item-price {
    color: var(--red);
    font-weight: 600;
    margin: 5px 0;
    text-shadow: 0 0 5px rgba(230, 57, 70, 0.3);
}

.cart-item-quantity {
    display: flex;
    align-items: center;
    margin-top: 10px;
}

.quantity-btn {
    width: 30px;
    height: 30px;
    background: linear-gradient(135deg, var(--blue), var(--dark-blue));
    border: 1px solid var(--gold);
    border-radius: 4px;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    color: var(--gold);
    transition: all 0.2s ease;
}

.quantity-btn:hover {
    background: var(--gold);
    color: var(--black);
    transform: scale(1.1);
}

.cart-item-quantity span {
    margin: 0 10px;
    min-width: 20px;
    text-align: center;
    color: #fff;
}

.remove-item {
    position: absolute;
    right: 0;
    top: 15px;
    background: none;
    border: none;
    color: var(--red);
    cursor: pointer;
    transition: all 0.2s ease;
}

.remove-item:hover {
    color: var(--red-dark);
    transform: scale(1.2);
}

.cart-footer {
    padding: 20px;
    background: linear-gradient(135deg, var(--blue), var(--dark-blue));
    border-top: 2px solid var(--gold);
}

.cart-total {
    display: flex;
    justify-content: space-between;
    font-weight: 600;
    margin-bottom: 15px;
    color: var(--gold-light);
    font-size: 18px;
}

.cart-total span:last-child {
    color: var(--gold);
}

.checkout-btn {
    width: 100%;
    padding: 14px;
    background: linear-gradient(135deg, var(--gold), var(--gold-light));
    color: var(--black);
    border: none;
    border-radius: 8px;
    font-size: 16px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(212, 175, 55, 0.4);
    text-transform: uppercase;
    letter-spacing: 1px;
}

.checkout-btn:hover {
    background: linear-gradient(135deg, var(--gold-light), var(--gold));
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(212, 175, 55, 0.6);
}

.checkout-btn:active {
    transform: translateY(1px);
}

/* Cart Icon Styles */
.cart-icon {
    position: relative;
    cursor: pointer;
    transition: transform 0.3s ease;
}

.cart-icon:hover {
    transform: scale(1.1);
}

.cart-count {
    position: absolute;
    top: -10px;
    right: -10px;
    background: linear-gradient(135deg, var(--red), var(--red-dark));
    color: white;
    border-radius: 50%;
    width: 22px;
    height: 22px;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 12px;
    font-weight: 600;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.3);
    animation: pulse 1.5s infinite;
}

@keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.1); }
    100% { transform: scale(1); }
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .cart-modal {
        width: 95%;
        max-width: none;
    }
    
    .cart-item-image {
        width: 60px;
        height: 60px;
    }
    
    .cart-item-details h3 {
        font-size: 14px;
    }
}
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container navbar-container">
            <div class="logo">
                <img src="ytime_luxury-removebg-preview.png" alt="YTime Logo">
                <span class="logo-text">YTime</span>
            </div>
            
            <div class="hamburger">
                <span></span>
                <span></span>
            </div>
            
            <ul class="nav-links">
                <li><a href="index.html" class="nav-link">Home</a></li>
                <li><a href="shop.html" class="nav-link">Collection</a></li>
                <li><a href="service.html" class="nav-link">Services</a></li>
                <li><a href="contact.html" class="nav-link">Contact</a></li>
            </ul>
            
            <div class="nav-icons-container">
                <div class="cart-icon">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="cart-count">0</span>
                </div>
                <div class="nav-auth-container">
                    <button id="authButton" class="auth-button">Sign In</button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="hero-bg-elements"></div>
        <div class="container">
            <div class="hero-content">
                <h1>Discover <span class="hero-luxury">Luxury</span> Timepieces</h1>
                <p>Explore our handpicked collection of premium watches from the world's most prestigious brands.</p>
                <a href="shop.html" class="btn btn-primary btn-effect">Explore Collection</a>
            </div>
            <div class="hero-image">
                <div class="watch-container">
                    <!-- Watch strap detail lines -->
                    <div class="watch-strap-detail"></div>
                    <div class="watch-strap-detail"></div>
                    <div class="watch-strap-detail"></div>
                    
                    <!-- Watch face container -->
                    <div class="iframe-container">
                        <div class="watch-crown"></div>
                        <iframe src="watch.html" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
                    </div>
                    
                    <!-- More watch strap detail lines -->
                    <div class="watch-strap-detail"></div>
                    <div class="watch-strap-detail"></div>
                    <div class="watch-strap-detail"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Brands Section -->
    <section class="brands">
        <div class="container">
            <h2 class="brands-title">Our Trusted Brands</h2>
            <div class="brands-container">
                <img src="Casio-Logo.png" alt="Casio" class="brand-logo">
                <img src="download (4).jpg" alt="Rolex" class="brand-logo">
                <img src="hublot3517.logowik.com.webp" alt="Hublot" class="brand-logo">
                <img src="images (1).png" alt="Patek Philippe" class="brand-logo">
                <img src="images (3).png" alt="Naviforce" class="brand-logo">
            </div>
        </div>
    </section>

    <!-- Collection Section -->
    <section class="collection" id="collection">
        <div class="container">
            <div class="section-title-container">
                <h2 class="section-title gold-underline">Our Collection</h2>
                <p class="section-subtitle">Discover timepieces that combine heritage craftsmanship with innovative design.</p>
            </div>
            
            <div class="watches-grid">
                <!-- Watch Card 1 -->
                <div class="watch-card">
                    <div class="watch-image-container">
                        <span class="watch-tag new">New</span>
                        <div class="watch-images">
                            <img src="g shock 1.jpg" alt="G-Shock Watch Front" class="watch-image active">
                            <img src="g shock 2.jpg" alt="G-Shock Watch Side" class="watch-image">
                            <img src="g shock 3.jpg" alt="G-Shock Watch Back" class="watch-image">
                        </div>
                        <div class="image-dots">
                            <span class="dot active" data-index="0"></span>
                            <span class="dot" data-index="1"></span>
                            <span class="dot" data-index="2"></span>
                        </div>
                    </div>
                    <div class="watch-content">
                        <span class="watch-brand">G-Shock</span>
                        <h3 class="watch-name">G-Shock GA-2100</h3>
                        <p class="watch-description">Rugged and durable design with shock resistance and versatile functionality.</p>
                        <div class="watch-footer">
                            <span class="watch-price">Ksh 3,500</span>
                            <button class="add-to-cart">
                                <i class="fas fa-shopping-cart"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Watch Card 2 -->
                <div class="watch-card">
                    <div class="watch-image-container">
                        <div class="watch-images">
                            <img src="casio round 1.jpg" alt="Casio Watch Front" class="watch-image active">
                            <img src="casio round 2.jpg" alt="Casio Watch Side" class="watch-image">
                            <img src="casio round 3.jpg" alt="Casio Watch Back" class="watch-image">
                        </div>
                        <div class="image-dots">
                            <span class="dot active" data-index="0"></span>
                            <span class="dot" data-index="1"></span>
                            <span class="dot" data-index="2"></span>
                        </div>
                    </div>
                    <div class="watch-content">
                        <span class="watch-brand">Casio</span>
                        <h3 class="watch-name">Casio MTP-1370</h3>
                        <p class="watch-description">Classic timepiece featuring elegant design and reliable quartz movement.</p>
                        <div class="watch-footer">
                            <span class="watch-price">Ksh 3,500</span>
                            <button class="add-to-cart">
                                <i class="fas fa-shopping-cart"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Watch Card 3 -->
                <div class="watch-card">
                    <div class="watch-image-container">
                        <span class="watch-tag limited">Limited</span>
                        <div class="watch-images">
                            <img src="hublot 1.jpg" alt="Hublot Watch Front" class="watch-image active">
                            <img src="hublot 2.jpg" alt="Hublot Watch Side" class="watch-image">
                            <img src="hublot 3.jpg" alt="Hublot Watch Back" class="watch-image">
                        </div>
                        <div class="image-dots">
                            <span class="dot active" data-index="0"></span>
                            <span class="dot" data-index="1"></span>
                            <span class="dot" data-index="2"></span>
                        </div>
                    </div>
                    <div class="watch-content">
                        <span class="watch-brand">Hublot</span>
                        <h3 class="watch-name">Hublot Classic Fusion</h3>
                        <p class="watch-description">An elegant sports watch with distinctive porthole-shaped case design.</p>
                        <div class="watch-footer">
                            <span class="watch-price">Ksh 7,000</span>
                            <button class="add-to-cart">
                                <i class="fas fa-shopping-cart"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Watch Card 4 -->
                <div class="watch-card">
                    <div class="watch-image-container">
                        <div class="watch-images">
                            <img src="rolex 1.jpg" alt="Rolex Watch Front" class="watch-image active">
                            <img src="rolex 2.jpg" alt="Rolex Watch Side" class="watch-image">
                            <img src="rolex 3.jpg" alt="Rolex Watch Back" class="watch-image">
                        </div>
                        <div class="image-dots">
                            <span class="dot active" data-index="0"></span>
                            <span class="dot" data-index="1"></span>
                            <span class="dot" data-index="2"></span>
                        </div>
                    </div>
                    <div class="watch-content">
                        <span class="watch-brand">Rolex</span>
                        <h3 class="watch-name">Rolex Datejust</h3>
                        <p class="watch-description">Iconic luxury timepiece with signature date display and fluted bezel design.</p>
                        <div class="watch-footer">
                            <span class="watch-price">Ksh 10,000</span>
                            <button class="add-to-cart">
                                <i class="fas fa-shopping-cart"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Watch Card 5 -->
                <div class="watch-card">
                    <div class="watch-image-container">
                        <span class="watch-tag sale">Sale</span>
                        <div class="watch-images">
                            <img src="Naviforce 1.jpg" alt="Naviforce Watch Front" class="watch-image active">
                            <img src="Naviforce 2.jpg" alt="Naviforce Watch Side" class="watch-image">
                            <img src="Naviforce 3.jpg" alt="Naviforce Watch Back" class="watch-image">
                        </div>
                        <div class="image-dots">
                            <span class="dot active" data-index="0"></span>
                            <span class="dot" data-index="1"></span>
                            <span class="dot" data-index="2"></span>
                        </div>
                    </div>
                    <div class="watch-content">
                        <span class="watch-brand">Naviforce</span>
                        <h3 class="watch-name">Naviforce NF9153</h3>
                        <p class="watch-description">Racing-inspired chronograph with clean dial design and precision timing.</p>
                        <div class="watch-footer">
                            <span class="watch-price">Ksh 5,000</span>
                            <button class="add-to-cart">
                                <i class="fas fa-shopping-cart"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Watch Card 6 -->
                <div class="watch-card">
                    <div class="watch-image-container">
                        <div class="watch-images">
                            <img src="skemei 1.jpg" alt="Skmei Watch Front" class="watch-image active">
                            <img src="skemei 2.jpg" alt="Skmei Watch Side" class="watch-image">
                            <img src="skemei 3.jpg" alt="Skmei Watch Back" class="watch-image">
                        </div>
                        <div class="image-dots">
                            <span class="dot active" data-index="0"></span>
                            <span class="dot" data-index="1"></span>
                            <span class="dot" data-index="2"></span>
                        </div>
                    </div>
                    <div class="watch-content">
                        <span class="watch-brand">Skmei</span>
                        <h3 class="watch-name">Skmei 1370</h3>
                        <p class="watch-description">Classic styling with large case size and clean dial arrangement.</p>
                        <div class="watch-footer">
                            <span class="watch-price">Ksh 4,500</span>
                            <button class="add-to-cart">
                                <i class="fas fa-shopping-cart"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
            
    <div class="luxury-slider">
        <div class="swiper-container">
            <div class="swiper-wrapper">
                <!-- Swiper Slides will be added dynamically -->
            </div>
            <div class="swiper-pagination"></div>
            <div class="swiper-button-next"></div>
            <div class="swiper-button-prev"></div>
        </div>
    </div>

    <!-- About Us Section HTML -->
<section class="about-section">
  <div class="container">
    <div class="about-header">
      <h2 class="section-title">About Us</h2>
      <div class="title-accent"></div>
      <p class="section-subtitle">Kenya's Premier Luxury Watch Destination</p>
    </div>
    
    <div class="about-content">
      <div class="about-image">
        <div class="image-frame">
          <img src="Gemini_Generated_Image_iw38muiw38muiw38.jpeg" alt="Our luxury watch store" />
          <div class="image-accent"></div>
        </div>
      </div>
      
      <div class="about-text">
        <h3 class="about-tagline">Crafting Timeless Experiences Since 2022</h3>
        <p class="about-description">We are Kenya's leading watch retailer, providing exceptional timepieces that combine craftsmanship, heritage, and innovation. Our curated collection features prestigious brands and exclusive designs for the discerning watch enthusiast.</p>
        
        <div class="about-stats">
          <div class="stat-card">
            <div class="stat-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="12" r="10"></circle>
                <polyline points="12 6 12 12 16 14"></polyline>
              </svg>
            </div>
            <div class="stat-content">
              <span class="stat-number">10,000+</span>
              <span class="stat-label">Watches Sold</span>
            </div>
          </div>
          
          <div class="stat-card">
            <div class="stat-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                <circle cx="12" cy="12" r="3"></circle>
              </svg>
            </div>
            <div class="stat-content">
              <span class="stat-number">50,000+</span>
              <span class="stat-label">Monthly Page Views</span>
            </div>
          </div>
          
          <div class="stat-card">
            <div class="stat-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                <circle cx="9" cy="7" r="4"></circle>
                <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
              </svg>
            </div>
            <div class="stat-content">
              <span class="stat-number">20+</span>
              <span class="stat-label">Watch Experts</span>
            </div>
          </div>
        </div>
        
        <a href="#" class="about-cta">Discover Our Collection</a>
      </div>
    </div>
  </div>
</section>

    <!-- Services Section -->
    <section class="services" id="services">
        <div class="container">
            <div class="section-title-container">
                <h2 class="section-title gold-underline">Our Services</h2>
                <p class="section-subtitle">We provide comprehensive services to ensure your timepiece remains in perfect condition.</p>
            </div>
            
            <div class="services-grid">
                <!-- Service Card 1 -->
                <div class="service-card">
                    <div class="service-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
                            <circle cx="32" cy="32" r="30" fill="#e6f0fa" />
                            <path d="M32 14c-9.9 0-18 8.1-18 18s8.1 18 18 18 18-8.1 18-18-8.1-18-18-18zm0 32c-7.7 0-14-6.3-14-14s6.3-14 14-14 14 6.3 14 14-6.3 14-14 14z" fill="#1e3a8a" />
                            <circle cx="32" cy="32" r="3" fill="#1e3a8a" />
                            <path d="M32 22c-0.6 0-1-0.4-1-1v-3c0-0.6 0.4-1 1-1s1 0.4 1 1v3c0 0.6-0.4 1-1 1zm10.1 4.1c-0.3 0-0.5-0.1-0.7-0.3-0.4-0.4-0.4-1 0-1.4l2.1-2.1c0.4-0.4 1-0.4 1.4 0s0.4 1 0 1.4l-2.1 2.1c-0.2 0.2-0.4 0.3-0.7 0.3zm4.9 5.9h-3c-0.6 0-1-0.4-1-1s0.4-1 1-1h3c0.6 0 1 0.4 1 1s-0.4 1-1 1zm-2.8 10.1l-2.1-2.1c-0.4-0.4-0.4-1 0-1.4 0.4-0.4 1-0.4 1.4 0l2.1 2.1c0.4 0.4 0.4 1 0 1.4-0.2 0.2-0.4 0.3-0.7 0.3s-0.5-0.1-0.7-0.3zm-12.2 4h-0.1c-0.5-0.1-0.9-0.6-0.8-1.1l0.3-2.9c0.1-0.5 0.5-0.9 1-0.8 0.5 0.1 0.9 0.5 0.8 1.1l-0.3 2.9c-0.1 0.5-0.5 0.8-0.9 0.8zm-10.1-3.9c-0.3 0-0.5-0.1-0.7-0.3-0.4-0.4-0.4-1 0-1.4l2.1-2.1c0.4-0.4 1-0.4 1.4 0s0.4 1 0 1.4l-2.1 2.1c-0.2 0.2-0.4 0.3-0.7 0.3zm-4.9-5.9h-3c-0.6 0-1-0.4-1-1s0.4-1 1-1h3c0.6 0 1 0.4 1 1s-0.4 1-1 1zm2.8-10.1l-2.1-2.1c-0.4-0.4-0.4-1 0-1.4 0.4-0.4 1-0.4 1.4 0l2.1 2.1c0.4 0.4 0.4 1 0 1.4-0.2 0.2-0.4 0.3-0.7 0.3s-0.5-0.1-0.7-0.3zm-1-8.1c-0.2 0-0.4-0.1-0.6-0.2-0.5-0.3-0.6-0.9-0.3-1.4l1.5-2.6c0.3-0.5 0.9-0.6 1.4-0.3 0.5 0.3 0.6 0.9 0.3 1.4l-1.5 2.6c-0.2 0.3-0.5 0.5-0.8 0.5z" fill="#1e3a8a" />
                            <path d="M32 24v8l4 4" stroke="#000" stroke-width="2" stroke-linecap="round" />
                            <path d="M42 39L40 44M22 39L24 44" stroke="#1e3a8a" stroke-width="2" />
                            <circle cx="32" cy="32" r="2" fill="#000" />
                            <path d="M38 46H26M38 48H26" stroke="#000" stroke-width="1" />
                        </svg>
                    </div>
                    <h3 class="service-title">Authentication</h3>
                    <p class="service-description">Our team of experts authenticates every timepiece to ensure its originality and quality.</p>
                </div>
                
                <!-- Service Card 2 -->
                <div class="service-card">
                    <div class="service-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
                            <circle cx="32" cy="32" r="30" fill="#e6f0fa" />
                            <path d="M43 22H21c-1.1 0-2 0.9-2 2v16c0 1.1 0.9 2 2 2h22c1.1 0 2-0.9 2-2V24c0-1.1-0.9-2-2-2z" fill="white" stroke="#1e3a8a" stroke-width="2" />
                            <circle cx="32" cy="32" r="10" fill="white" stroke="#1e3a8a" stroke-width="2" />
                            <circle cx="32" cy="32" r="7" fill="#e6f0fa" stroke="#000" stroke-width="1" />
                            <path d="M32 25v7l4 4" stroke="#000" stroke-width="1.5" stroke-linecap="round" />
                            <path d="M21 28h-4M47 28h-4M21 36h-4M47 36h-4" stroke="#1e3a8a" stroke-width="2" stroke-linecap="round" />
                            <path d="M20 42l3 4M44 42l-3 4" stroke="#1e3a8a" stroke-width="1.5" />
                            <circle cx="32" cy="32" r="1.5" fill="#000" />
                            <path d="M30 17v-2M34 17v-2M30 49v-2M34 49v-2" stroke="#000" stroke-width="1.5" stroke-linecap="round" />
                            <path d="M15 28c0 0 2-1 4 0s4 1 4 0M41 28c0 0 2-1 4 0s4 1 4 0" stroke="#1e3a8a" stroke-width="1" />
                        </svg>
                    </div>
                    <h3 class="service-title">Maintenance</h3>
                    <p class="service-description">Regular servicing and maintenance to keep your watch running perfectly for years to come.</p>
                </div>
                
                <!-- Service Card 3 -->
                <div class="service-card">
                    <div class="service-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
                            <circle cx="32" cy="32" r="30" fill="#e6f0fa" />
                            <path d="M32 15c-9.4 0-17 7.6-17 17s7.6 17 17 17 17-7.6 17-17-7.6-17-17-17zm0 30c-7.2 0-13-5.8-13-13s5.8-13 13-13 13 5.8 13 13-5.8 13-13 13z" fill="#1e3a8a" />
                            <circle cx="32" cy="32" r="10" fill="white" stroke="#000" stroke-width="1.5" />
                            <path d="M22 32h20" stroke="#000" stroke-width="1.5" />
                            <path d="M32 22v20" stroke="#000" stroke-width="1.5" />
                            <path d="M26 26l12 12M26 38l12-12" stroke="#000" stroke-width="1" />
                            <path d="M32 42v4M32 18v4M42 32h4M18 32h4" stroke="#1e3a8a" stroke-width="2" stroke-linecap="round" />
                            <path d="M20 45l-3 3M44 45l3 3M20 19l-3-3M44 19l3-3" stroke="#1e3a8a" stroke-width="1.5" />
                            <path d="M25 22l-2 5M39 22l2 5M25 42l-2-5M39 42l2-5" stroke="#000" stroke-width="1" />
                        </svg>
                    </div>
                    <h3 class="service-title">Customization</h3>
                    <p class="service-description">Personalize your timepiece with custom straps, dials, and engravings for a unique look.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Newsletter Section -->
    <section class="newsletter">
        <div class="container">
            <div class="newsletter-container">
                <h2 class="section-title">Stay Updated</h2>
                <p class="section-subtitle">Subscribe to our newsletter for exclusive offers and news about new timepieces.</p>
                
                <form class="newsletter-form">
                    <input type="email" placeholder="Your email address" class="newsletter-input" required>
                    <button type="submit" class="newsletter-btn">Subscribe</button>
                </form>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer" id="contact">
        <div class="container">
            <div class="footer-grid">
                <div>
                    <div class="footer-logo">
                        <img src="ytime_luxury-removebg-preview.png" alt="YTime Logo">
                        <span class="logo-text">YTime</span>
                    </div>
                    <p class="footer-about">
                        YTime is a premier destination for luxury timepieces, offering a curated selection of the world's finest watches and exceptional customer service.
                    </p>
                    <div class="footer-social">
                        <a href="#" class="social-icon"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
                
                <div>
                    <h3 class="footer-heading">Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="#home">Home</a></li>
                        <li><a href="#collection">Collection</a></li>
                        <li><a href="#services">Services</a></li>
                        <li><a href="#contact">Contact</a></li>
                    </ul>
                </div>
                
                <div>
                    <h3 class="footer-heading">Help & Support</h3>
                    <ul class="footer-links">
                        <li><a href="#">FAQs</a></li>
                        <li><a href="#">Shipping Info</a></li>
                        <li><a href="#">Returns Policy</a></li>
                        <li><a href="#">Warranty</a></li>
                        <li><a href="#">Privacy Policy</a></li>
                    </ul>
                </div>
                
                <div>
                    <h3 class="footer-heading">Contact Us</h3>
                    <div class="footer-contact-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <span>Nairobi Kenya</span>
                    </div>
                    <div class="footer-contact-item">
                        <i class="fas fa-phone"></i>
                        <span>+254117278821</span>
                    </div>
                    <div class="footer-contact-item">
                        <i class="fas fa-envelope"></i>
                        <span>info@ytime.co.ke</span>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 YTime Luxury. All rights reserved.</p>
            </div>
        </div>
    </footer>
    <!-- Font Awesome -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>

    <!-- Custom JS -->
    <script>
document.addEventListener('DOMContentLoaded', function() {
    // Initialize IndexedDB
    initializeDB().then(() => {
        // After DB is initialized, retrieve cart data from IndexedDB
        getCart().then(cart => {
            updateCartCount(cart);
            
            // Authentication UI update
            updateAuthUI();
            
            // Add click event to all "Add to Cart" buttons
            initializeCartButtons();
            
            // Function to initialize watch image gallery
            initializeWatchImageGallery();
            
            // Initialize Swiper properly with proper error handling
            initializeSwiper();
            
            // Initialize mobile navigation
            initMobileNav();
            
            // Initialize newsletter form
            initNewsletterForm();
            
            // Initialize watch card effects
            initWatchCardEffects();
            
            // Initialize price filter (if on collection page)
            initPriceFilter();
            
            // Initialize smooth scroll
            initSmoothScroll();
            
            // Initialize Back to Top button if it exists
            initBackToTop();
            
            // Initialize checkout page if we're on it
            if (window.location.pathname.includes('checkout.html')) {
                initializeCheckoutPage();
            }
        }).catch(error => {
            console.error('Error initializing cart:', error);
        });
    }).catch(error => {
        console.error('Error initializing database:', error);
        // Fallback to localStorage if IndexedDB fails
        fallbackToLocalStorage();
    });
});

// Initialize IndexedDB
function initializeDB() {
    return new Promise((resolve, reject) => {
        // Open a connection to the IndexedDB database - changed to ytimeShopDB
        const request = indexedDB.open('ytimeShopDB', 1);
        
        // Handle database upgrade needed (first time or version change)
        request.onupgradeneeded = function(event) {
            const db = event.target.result;
            
            // Create object stores if they don't exist
            if (!db.objectStoreNames.contains('cart')) {
                const cartStore = db.createObjectStore('cart', { keyPath: 'id', autoIncrement: true });
                cartStore.createIndex('brand_name', ['brand', 'name'], { unique: false });
            }
            
            if (!db.objectStoreNames.contains('users')) {
                const userStore = db.createObjectStore('users', { keyPath: 'email' });
            }
            
            if (!db.objectStoreNames.contains('products')) {
                const productStore = db.createObjectStore('products', { keyPath: 'id', autoIncrement: true });
                productStore.createIndex('brand_name', ['brand', 'name'], { unique: true });
            }
            
            if (!db.objectStoreNames.contains('productViews')) {
                const productViewsStore = db.createObjectStore('productViews', { keyPath: 'id', autoIncrement: true });
                productViewsStore.createIndex('product_id', 'productId', { unique: false });
                productViewsStore.createIndex('timestamp', 'timestamp', { unique: false });
            }
            
            if (!db.objectStoreNames.contains('newsletter')) {
                const newsletterStore = db.createObjectStore('newsletter', { keyPath: 'email' });
                newsletterStore.createIndex('timestamp', 'timestamp', { unique: false });
            }
        };
        
        // Handle success
        request.onsuccess = function(event) {
            const db = event.target.result;
            resolve(db);
        };
        
        // Handle errors
        request.onerror = function(event) {
            reject('IndexedDB error: ' + event.target.errorCode);
        };
    });
}

// Function to get the database connection
function getDB() {
    return new Promise((resolve, reject) => {
        const request = indexedDB.open('ytimeShopDB', 1);
        
        request.onsuccess = function(event) {
            resolve(event.target.result);
        };
        
        request.onerror = function(event) {
            reject('Error opening database: ' + event.target.errorCode);
        };
    });
}

// Function to save cart to IndexedDB
function saveCart(cart) {
    return new Promise((resolve, reject) => {
        getDB().then(db => {
            // Start a transaction
            const transaction = db.transaction(['cart'], 'readwrite');
            const cartStore = transaction.objectStore('cart');
            
            // Clear existing cart
            const clearRequest = cartStore.clear();
            
            clearRequest.onsuccess = function() {
                // Add each item to the cart store
                let addPromises = [];
                
                cart.forEach(item => {
                    // Generate unique ID to prevent duplicates
                    const addRequest = cartStore.add(item);
                    
                    addPromises.push(new Promise((resolveAdd, rejectAdd) => {
                        addRequest.onsuccess = resolveAdd;
                        addRequest.onerror = function(event) {
                            rejectAdd('Error adding item to cart: ' + event.target.errorCode);
                        };
                    }));
                });
                
                Promise.all(addPromises)
                    .then(() => resolve(cart))
                    .catch(error => reject(error));
            };
            
            clearRequest.onerror = function(event) {
                reject('Error clearing cart: ' + event.target.errorCode);
            };
            
            transaction.oncomplete = function() {
                console.log('Transaction completed: cart updated');
            };
            
            transaction.onerror = function(event) {
                reject('Transaction error: ' + event.target.errorCode);
            };
        }).catch(error => {
            reject(error);
        });
    });
}

// Function to get cart from IndexedDB
function getCart() {
    return new Promise((resolve, reject) => {
        getDB().then(db => {
            const transaction = db.transaction(['cart'], 'readonly');
            const cartStore = transaction.objectStore('cart');
            const request = cartStore.getAll();
            
            request.onsuccess = function() {
                resolve(request.result || []);
            };
            
            request.onerror = function(event) {
                reject('Error getting cart: ' + event.target.errorCode);
            };
        }).catch(error => {
            reject(error);
        });
    });
}

// Function to log product view
function logProductView(productData) {
    return new Promise((resolve, reject) => {
        getDB().then(db => {
            const transaction = db.transaction(['productViews', 'products'], 'readwrite');
            const productViewsStore = transaction.objectStore('productViews');
            const productsStore = transaction.objectStore('products');
            
            // First ensure product exists in products store
            const productIndex = productsStore.index('brand_name');
            const productRequest = productIndex.get([productData.brand, productData.name]);
            
            productRequest.onsuccess = function() {
                let productId;
                
                if (!productRequest.result) {
                    // Product doesn't exist yet, add it
                    const addProductRequest = productsStore.add({
                        brand: productData.brand,
                        name: productData.name,
                        price: productData.price,
                        image: productData.image,
                        dateAdded: new Date()
                    });
                    
                    addProductRequest.onsuccess = function(event) {
                        productId = event.target.result;
                        addProductView(productId);
                    };
                    
                    addProductRequest.onerror = function(event) {
                        reject('Error adding product: ' + event.target.errorCode);
                    };
                } else {
                    // Product exists
                    productId = productRequest.result.id;
                    addProductView(productId);
                }
                
                function addProductView(id) {
                    const viewData = {
                        productId: id,
                        timestamp: new Date(),
                        userAgent: navigator.userAgent
                    };
                    
                    const viewRequest = productViewsStore.add(viewData);
                    
                    viewRequest.onsuccess = function() {
                        resolve();
                    };
                    
                    viewRequest.onerror = function(event) {
                        reject('Error logging product view: ' + event.target.errorCode);
                    };
                }
            };
            
            productRequest.onerror = function(event) {
                reject('Error finding product: ' + event.target.errorCode);
            };
        }).catch(error => {
            reject(error);
        });
    });
}

// Function to update cart count display
function updateCartCount(cart = null) {
    if (cart === null) {
        getCart().then(cartData => {
            updateCartCountUI(cartData);
        }).catch(error => {
            console.error('Error getting cart for count update:', error);
        });
    } else {
        updateCartCountUI(cart);
    }
}

function updateCartCountUI(cart) {
    const cartCount = document.querySelector('.cart-count');
    
    if (cartCount) {
        // Calculate total quantity of all items
        const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
        cartCount.textContent = totalItems;
    }
}

// Function to show cart overlay
function showCartOverlay() {
    getCart().then(cart => {
        // Remove any existing overlay first to prevent duplicates
        const existingOverlay = document.querySelector('.cart-overlay');
        if (existingOverlay) {
            document.body.removeChild(existingOverlay);
        }
        
        // Create overlay element
        const overlay = document.createElement('div');
        overlay.className = 'cart-overlay';
        
        // Calculate cart total
        const cartTotal = cart.reduce((total, item) => {
            const price = parseFloat(item.price.replace(/[^\d.]/g, ''));
            return total + (price * item.quantity);
        }, 0);
        
        // Create cart HTML
        overlay.innerHTML = `
            <div class="cart-modal">
                <div class="cart-header">
                    <h2>Your Shopping Cart</h2>
                    <button class="close-cart">&times;</button>
                </div>
                <div class="cart-items">
                    ${cart.length === 0 ? 
                        '<p class="empty-cart">Your cart is empty.</p>' : 
                        cart.map((item, index) => `
                            <div class="cart-item">
                                <div class="cart-item-image">
                                    <img src="${item.image}" alt="${item.name}" onerror="this.src='images/placeholder.jpg'">
                                </div>
                                <div class="cart-item-details">
                                    <h3>${item.brand} ${item.name}</h3>
                                    <p class="cart-item-price">${item.price}</p>
                                    <div class="cart-item-quantity">
                                        <button class="quantity-btn decrease" data-id="${item.id}">-</button>
                                        <span>${item.quantity}</span>
                                        <button class="quantity-btn increase" data-id="${item.id}">+</button>
                                    </div>
                                </div>
                                <button class="remove-item" data-id="${item.id}">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        `).join('')
                    }
                </div>
                <div class="cart-footer">
                    <div class="cart-total">
                        <span>Total:</span>
                        <span>Ksh ${cartTotal.toFixed(2)}</span>
                    </div>
                    ${cart.length === 0 ? '' : 
                        '<button class="checkout-btn">Proceed to Checkout</button>'
                    }
                </div>
            </div>
        `;
        
        // Add overlay to the body
        document.body.appendChild(overlay);
        
        // Prevent scrolling on body
        document.body.style.overflow = 'hidden';
        
        // Add close functionality
        const closeButton = overlay.querySelector('.close-cart');
        closeButton.addEventListener('click', function() {
            document.body.removeChild(overlay);
            document.body.style.overflow = 'auto';
        });
        
        // Close overlay when clicking outside modal
        overlay.addEventListener('click', function(e) {
            if (e.target === overlay) {
                document.body.removeChild(overlay);
                document.body.style.overflow = 'auto';
            }
        });
        
        // Add checkout button functionality
        const checkoutButton = overlay.querySelector('.checkout-btn');
        if (checkoutButton) {
            checkoutButton.addEventListener('click', function() {
                window.location.href = 'checkout.html';
            });
        }
        
        // Add quantity change functionality
        const increaseButtons = overlay.querySelectorAll('.quantity-btn.increase');
        const decreaseButtons = overlay.querySelectorAll('.quantity-btn.decrease');
        const removeButtons = overlay.querySelectorAll('.remove-item');
        
        increaseButtons.forEach(button => {
            button.addEventListener('click', function() {
                const itemId = parseInt(this.dataset.id);
                
                getCart().then(updatedCart => {
                    const itemIndex = updatedCart.findIndex(item => item.id === itemId);
                    if (itemIndex !== -1) {
                        updatedCart[itemIndex].quantity += 1;
                        saveCart(updatedCart).then(() => {
                            updateCartCount(updatedCart);
                            showCartOverlay(); // Refresh the cart overlay
                        });
                    }
                });
            });
        });
        
        decreaseButtons.forEach(button => {
            button.addEventListener('click', function() {
                const itemId = parseInt(this.dataset.id);
                
                getCart().then(updatedCart => {
                    const itemIndex = updatedCart.findIndex(item => item.id === itemId);
                    if (itemIndex !== -1) {
                        if (updatedCart[itemIndex].quantity > 1) {
                            updatedCart[itemIndex].quantity -= 1;
                            saveCart(updatedCart).then(() => {
                                updateCartCount(updatedCart);
                                showCartOverlay(); // Refresh the cart overlay
                            });
                        } else {
                            // Remove item if quantity would be 0
                            removeCartItem(itemId);
                        }
                    }
                });
            });
        });
        
        removeButtons.forEach(button => {
            button.addEventListener('click', function() {
                const itemId = parseInt(this.dataset.id);
                
                if (typeof Swal !== 'undefined') {
                    getCart().then(updatedCart => {
                        const itemIndex = updatedCart.findIndex(item => item.id === itemId);
                        if (itemIndex !== -1) {
                            Swal.fire({
                                title: 'Remove Item?',
                                text: `Are you sure you want to remove ${updatedCart[itemIndex].brand} ${updatedCart[itemIndex].name} from your cart?`,
                                icon: 'question',
                                showCancelButton: true,
                                confirmButtonText: 'Yes, remove it',
                                cancelButtonText: 'Cancel'
                            }).then((result) => {
                                if (result.isConfirmed) {
                                    removeCartItem(itemId);
                                }
                            });
                        }
                    });
                } else {
                    // Fallback if SweetAlert is not available
                    getCart().then(updatedCart => {
                        const itemIndex = updatedCart.findIndex(item => item.id === itemId);
                        if (itemIndex !== -1 && confirm(`Are you sure you want to remove ${updatedCart[itemIndex].brand} ${updatedCart[itemIndex].name} from your cart?`)) {
                            removeCartItem(itemId);
                        }
                    });
                }
            });
        });
    }).catch(error => {
        console.error('Error showing cart overlay:', error);
    });
}

// Function to remove item from cart
function removeCartItem(itemId) {
    getCart().then(updatedCart => {
        const newCart = updatedCart.filter(item => item.id !== itemId);
        saveCart(newCart).then(() => {
            updateCartCount(newCart);
            showCartOverlay(); // Refresh the cart overlay
        });
    });
}

// Function to initialize the checkout page
function initializeCheckoutPage() {
    getCart().then(cart => {
        const checkoutItemsContainer = document.getElementById('checkout-items');
        const checkoutSummaryContainer = document.getElementById('checkout-summary');
        
        if (!checkoutItemsContainer || !checkoutSummaryContainer) return;
        
        // Clear any existing content
        checkoutItemsContainer.innerHTML = '';
        
        if (cart.length === 0) {
            // If cart is empty, show message and redirect after 3 seconds
            checkoutItemsContainer.innerHTML = `
                <div class="empty-cart-message">
                    <p>Your cart is empty. Redirecting to shop...</p>
                </div>
            `;
            
            setTimeout(() => {
                window.location.href = 'index.html';
            }, 3000);
            
            return;
        }
        
        // Render checkout items
        let itemsHTML = '';
        cart.forEach((item) => {
            const itemTotal = parseFloat(item.price.replace(/[^\d.]/g, '')) * item.quantity;
            
            itemsHTML += `
                <div class="checkout-item">
                    <div class="checkout-item-image">
                        <img src="${item.image}" alt="${item.name}" onerror="this.src='images/placeholder.jpg'">
                    </div>
                    <div class="checkout-item-details">
                        <h3>${item.brand} ${item.name}</h3>
                        <p class="checkout-item-price">${item.price}  ${item.quantity}</p>
                        <p class="checkout-item-total">Ksh ${itemTotal.toFixed(2)}</p>
                    </div>
                </div>
            `;
        });
        
        checkoutItemsContainer.innerHTML = itemsHTML;
        
        // Calculate cart summary
        const subtotal = cart.reduce((total, item) => {
            const price = parseFloat(item.price.replace(/[^\d.]/g, ''));
            return total + (price * item.quantity);
        }, 0);
        
        const shipping = 500; // Example shipping cost
        const total = subtotal + shipping;
        
        // Update checkout summary
        checkoutSummaryContainer.innerHTML = `
            <div class="checkout-summary-row">
                <span>Subtotal</span>
                <span>Ksh ${subtotal.toFixed(2)}</span>
            </div>
            <div class="checkout-summary-row">
                <span>Shipping</span>
                <span>Ksh ${shipping.toFixed(2)}</span>
            </div>
            <div class="checkout-summary-row total">
                <span>Total</span>
                <span>Ksh ${total.toFixed(2)}</span>
            </div>
        `;
        
        // Add event listener to the checkout form
        const checkoutForm = document.getElementById('checkout-form');
        if (checkoutForm) {
            checkoutForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Log the order in IndexedDB
                logOrder(cart, subtotal, shipping, total).then(() => {
                    if (typeof Swal !== 'undefined') {
                        Swal.fire({
                            title: 'Order Placed!',
                            text: 'Your order has been placed successfully.',
                            icon: 'success',
                            confirmButtonText: 'OK'
                        }).then(() => {
                            // Clear cart and redirect to home page
                            clearCart().then(() => {
                                window.location.href = 'index.html';
                            });
                        });
                    } else {
                        alert('Your order has been placed successfully.');
                        clearCart().then(() => {
                            window.location.href = 'index.html';
                        });
                    }
                }).catch(error => {
                    console.error('Error placing order:', error);
                    alert('There was an error processing your order. Please try again.');
                });
            });
        }
    }).catch(error => {
        console.error('Error initializing checkout page:', error);
    });
}

// Function to log order in IndexedDB
function logOrder(cart, subtotal, shipping, total) {
    return new Promise((resolve, reject) => {
        getDB().then(db => {
            // Create orders object store if it doesn't exist
            if (!db.objectStoreNames.contains('orders')) {
                db.close();
                const request = indexedDB.open('ytimeShopDB', 2);
                
                request.onupgradeneeded = function(event) {
                    const db = event.target.result;
                    if (!db.objectStoreNames.contains('orders')) {
                        const orderStore = db.createObjectStore('orders', { keyPath: 'id', autoIncrement: true });
                        orderStore.createIndex('timestamp', 'timestamp', { unique: false });
                        orderStore.createIndex('email', 'email', { unique: false });
                    }
                };
                
                request.onsuccess = function() {
                    const updatedDb = request.result;
                    addOrder(updatedDb);
                };
                
                request.onerror = function(event) {
                    reject('Error upgrading database: ' + event.target.errorCode);
                };
            } else {
                addOrder(db);
            }
            
            function addOrder(database) {
                // Get user email if logged in
                const userEmail = localStorage.getItem('userEmail');
                
                // Get form data if on checkout page
                let customerInfo = {};
                const checkoutForm = document.getElementById('checkout-form');
                if (checkoutForm) {
                    const formData = new FormData(checkoutForm);
                    formData.forEach((value, key) => {
                        customerInfo[key] = value;
                    });
                }
                
                const orderData = {
                    items: cart,
                    email: userEmail || (customerInfo.email || 'guest'),
                    subtotal: subtotal,
                    shipping: shipping,
                    total: total,
                    timestamp: new Date(),
                    status: 'pending',
                    customerInfo: customerInfo
                };
                
                const transaction = database.transaction(['orders'], 'readwrite');
                const orderStore = transaction.objectStore('orders');
                const request = orderStore.add(orderData);
                
                request.onsuccess = function() {
                    resolve();
                };
                
                request.onerror = function(event) {
                    reject('Error adding order: ' + event.target.errorCode);
                };
            }
        }).catch(error => {
            reject(error);
        });
    });
}

// Function to clear cart
function clearCart() {
    return new Promise((resolve, reject) => {
        getDB().then(db => {
            const transaction = db.transaction(['cart'], 'readwrite');
            const cartStore = transaction.objectStore('cart');
            const request = cartStore.clear();
            
            request.onsuccess = function() {
                resolve();
            };
            
            request.onerror = function(event) {
                reject('Error clearing cart: ' + event.target.errorCode);
            };
        }).catch(error => {
            reject(error);
        });
    });
}

// Function to update UI based on authentication state
function updateAuthUI() {
    const authButton = document.getElementById('authButton');
    if (!authButton) return;
    
    const userEmail = localStorage.getItem('userEmail');
    
    if (userEmail) {
        // User is signed in - Show avatar button
        const firstLetter = userEmail.charAt(0).toUpperCase();
        
        authButton.className = 'auth-button auth-button-logged-in';
        authButton.innerHTML = `<div class="user-avatar">${firstLetter}</div>`;
        
        // When clicking on avatar, go to user profile or dashboard
        authButton.onclick = function() {
            localStorage.removeItem('userEmail');
            localStorage.removeItem('userName');
            
            // If using Firebase Auth, sign out there too
            if (typeof firebase !== 'undefined' && firebase.auth) {
                firebase.auth().signOut();
            }
            
            // Show logout notification
            if (typeof Swal !== 'undefined') {
                Swal.fire({
                    title: 'Signed Out',
                    text: 'You have been successfully signed out.',
                    icon: 'success',
                    timer: 2000,
                    showConfirmButton: false
                }).then(() => {
                    // Redirect to login
                    window.location.href = 'login.html';
                });
            } else {
                alert('You have been successfully signed out.');
                window.location.href = 'login.html';
            }
        };
    } else {
        // User is not signed in - Show sign in button
        authButton.className = 'auth-button';
        authButton.innerHTML = 'Sign In';
        
        // Redirect to login page when clicking sign in
        authButton.onclick = function() {
            window.location.href = 'login.html';
        };
    }
}

// Function to add product to cart
function addToCart(productData) {
    // Ensure image path is valid
    if (productData.image && productData.image.indexOf('/') === -1) {
        productData.image = 'images/' + productData.image;
    }
    
    // First log a product view
    logProductView(productData).catch(error => {
        console.error('Error logging product view:', error);
    });
    
    // Get current cart from IndexedDB
    getCart().then(cart => {
        // Check if product already exists in cart
        const existingProductIndex = cart.findIndex(item => 
            item.brand === productData.brand && item.name === productData.name
        );
        
        if (existingProductIndex !== -1) {
            // Increment quantity if product exists
            cart[existingProductIndex].quantity += 1;
            saveCart(cart).then(updatedCart => {
                // Update cart count and show notification
                updateCartCount(updatedCart);
                
                // Show success notification
                showAddToCartNotification(productData);
            });
        } else {
            // Add new product to cart
            saveCart([...cart, productData]).then(updatedCart => {
                // Update cart count and show notification
                updateCartCount(updatedCart);
                
                // Show success notification
                showAddToCartNotification(productData);
            });
        }
    }).catch(error => {
        console.error('Error adding to cart:', error);
        // Fallback to alert
        alert(`Error adding ${productData.brand} ${productData.name} to cart. Please try again.`);
    });
}

// Function to show add to cart notification
function showAddToCartNotification(productData) {
    if (typeof Swal !== 'undefined') {
        Swal.fire({
            title: 'Added to Cart!',
            text: `${productData.brand} ${productData.name} has been added to your cart.`,
            icon: 'success',
            toast: true,
            position: 'top-end',
            showConfirmButton: false,
            timer: 3000,
            timerProgressBar: true
        });
    } else {
        alert(`${productData.brand} ${productData.name} has been added to your cart.`);
    }
}

// Function to initialize cart buttons
function initializeCartButtons() {
    // Use event delegation for better performance and to handle dynamically added buttons
    document.addEventListener('click', function(e) {
        // Check if clicked element is an add-to-cart button or its child
        const addToCartBtn = e.target.closest('.add-to-cart');
        if (addToCartBtn) {
            e.preventDefault();
            
            // Get product data from button attributes or closest parent
            const watchCard = addToCartBtn.closest('.watch-card');
            const productData = {
                brand: addToCartBtn.dataset.brand || watchCard.querySelector('.watch-brand')?.textContent,
                name: addToCartBtn.dataset.name || watchCard.querySelector('.watch-name')?.textContent,
                price: addToCartBtn.dataset.price || watchCard.querySelector('.watch-price')?.textContent,
                image: addToCartBtn.dataset.image || watchCard.querySelector('.watch-image.active, .watch-image')?.src || 'images/placeholder.jpg',
                quantity: 1
            };
            
            // Add to cart functionality
            addToCart(productData);
        }
    });
    
    // Handle cart icon click
    const cartIcon = document.querySelector('.cart-icon');
    if (cartIcon) {
        cartIcon.addEventListener('click', function(e) {
            e.preventDefault();
            showCartOverlay();
        });
    }
}

// Function to initialize watch image gallery
function initializeWatchImageGallery() {
    const watchCards = document.querySelectorAll('.watch-card');
    
    watchCards.forEach(card => {
        const dots = card.querySelectorAll('.dot');
        const images = card.querySelectorAll('.watch-image');
        
        if (dots.length > 0 && images.length > 0) {
            // Ensure first image is always visible initially
            if (images[0]) {
                images[0].classList.add('active');
            }
            if (dots[0]) {
                dots[0].classList.add('active');
            }
            
            dots.forEach(dot => {
                dot.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    
                    const index = parseInt(this.dataset.index);
                    
                    // Hide all images
                    images.forEach(img => img.classList.remove('active'));
                    
                    // Show selected image
                    if (images[index]) {
                        images[index].classList.add('active');
                    }
                    
                    // Update active dot
                    dots.forEach(d => d.classList.remove('active'));
                    this.classList.add('active');
                });
            });
        }
    });
}

// Function to save newsletter subscription to IndexedDB
function saveNewsletter(email) {
    return new Promise((resolve, reject) => {
        getDB().then(db => {
            const transaction = db.transaction(['newsletter'], 'readwrite');
            const newsletterStore = transaction.objectStore('newsletter');
            
            const subscription = {
                email: email,
                timestamp: new Date(),
                status: 'active'
            };
            
            const request = newsletterStore.add(subscription);
            
            request.onsuccess = function() {
                resolve();
            };
            
            request.onerror = function(event) {
                // Check if error is due to duplicate email
                if (event.target.error.name === 'ConstraintError') {
                    reject('Email already subscribed');
                } else {
                    reject('Error adding subscription: ' + event.target.errorCode);
                }
            };
        }).catch(error => {
            reject(error);
        });
    });
}

// Newsletter subscription form handler
function initNewsletterForm() {
    const newsletterForm = document.querySelector('.newsletter-form');
    
    if (newsletterForm) {newsletterForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const emailInput = this.querySelector('input[type="email"]');
            const submitBtn = this.querySelector('button[type="submit"]');
            const errorMessage = this.querySelector('.newsletter-error') || document.createElement('div');
            
            if (!errorMessage.classList.contains('newsletter-error')) {
                errorMessage.className = 'newsletter-error';
                this.appendChild(errorMessage);
            }
            
            // Validate email
            const email = emailInput.value.trim();
            if (!email) {
                errorMessage.textContent = 'Please enter an email address';
                errorMessage.style.display = 'block';
                return;
            }
            
            // Disable form elements during submission
            emailInput.disabled = true;
            submitBtn.disabled = true;
            errorMessage.style.display = 'none';
            
            // Save subscription to IndexedDB
            saveNewsletter(email).then(() => {
                // Show success message
                if (typeof Swal !== 'undefined') {
                    Swal.fire({
                        title: 'Subscribed!',
                        text: 'Thank you for subscribing to our newsletter.',
                        icon: 'success',
                        confirmButtonText: 'OK'
                    });
                } else {
                    alert('Thank you for subscribing to our newsletter.');
                }
                
                // Reset form
                emailInput.value = '';
            }).catch(error => {
                if (error === 'Email already subscribed') {
                    errorMessage.textContent = 'This email is already subscribed';
                } else {
                    errorMessage.textContent = 'An error occurred. Please try again later.';
                    console.error('Newsletter subscription error:', error);
                }
                
                errorMessage.style.display = 'block';
            }).finally(() => {
                // Re-enable form elements
                emailInput.disabled = false;
                submitBtn.disabled = false;
            });
        });
    }
}

// Function to initialize Swiper slider
function initializeSwiper() {
    if (typeof Swiper !== 'undefined') {
        try {
            const featuredSlider = document.querySelector('.featured-slider');
            if (featuredSlider) {
                const swiper = new Swiper('.featured-slider', {
                    slidesPerView: 1,
                    spaceBetween: 20,
                    loop: true,
                    autoplay: {
                        delay: 5000,
                        disableOnInteraction: false,
                    },
                    pagination: {
                        el: '.swiper-pagination',
                        clickable: true,
                    },
                    navigation: {
                        nextEl: '.swiper-button-next',
                        prevEl: '.swiper-button-prev',
                    },
                    breakpoints: {
                        640: {
                            slidesPerView: 2,
                        },
                        1024: {
                            slidesPerView: 3,
                        }
                    }
                });
            }
            
            // Brand logo slider (if exists)
            const brandSlider = document.querySelector('.brand-slider');
            if (brandSlider) {
                const brandSwiper = new Swiper('.brand-slider', {
                    slidesPerView: 2,
                    spaceBetween: 30,
                    loop: true,
                    autoplay: {
                        delay: 3000,
                        disableOnInteraction: false,
                    },
                    breakpoints: {
                        640: {
                            slidesPerView: 3,
                        },
                        768: {
                            slidesPerView: 4,
                        },
                        1024: {
                            slidesPerView: 5,
                        }
                    }
                });
            }
        } catch (error) {
            console.error('Error initializing Swiper:', error);
        }
    }
}

// Initialize mobile navigation
function initMobileNav() {
    const menuToggle = document.querySelector('.menu-toggle');
    const mobileNav = document.querySelector('.mobile-nav');
    const closeMenu = document.querySelector('.close-menu');
    
    if (menuToggle && mobileNav) {
        menuToggle.addEventListener('click', function() {
            mobileNav.classList.add('active');
            document.body.style.overflow = 'hidden';
        });
        
        if (closeMenu) {
            closeMenu.addEventListener('click', function() {
                mobileNav.classList.remove('active');
                document.body.style.overflow = 'auto';
            });
        }
        
        // Close menu when clicking outside
        document.addEventListener('click', function(e) {
            if (mobileNav.classList.contains('active') && 
                !mobileNav.contains(e.target) && 
                e.target !== menuToggle) {
                mobileNav.classList.remove('active');
                document.body.style.overflow = 'auto';
            }
        });
    }
}

// Function to add hover effects to watch cards
function initWatchCardEffects() {
    const watchCards = document.querySelectorAll('.watch-card');
    
    watchCards.forEach(card => {
        card.addEventListener('mouseenter', function() {
            this.classList.add('hovered');
        });
        
        card.addEventListener('mouseleave', function() {
            this.classList.remove('hovered');
        });
    });
}

// Function to initialize price filter on collection page
function initPriceFilter() {
    const priceFilter = document.getElementById('price-filter');
    const priceOutput = document.getElementById('price-output');
    
    if (priceFilter && priceOutput) {
        // Set initial value
        priceOutput.textContent = `Ksh ${priceFilter.value.toLocaleString()}`;
        
        priceFilter.addEventListener('input', function() {
            priceOutput.textContent = `Ksh ${this.value.toLocaleString()}`;
            
            // Filter watches based on price
            filterWatches();
        });
    }
    
    // Function to filter watches based on selected filters
    function filterWatches() {
        const maxPrice = parseInt(priceFilter.value);
        const watches = document.querySelectorAll('.watch-card');
        
        watches.forEach(watch => {
            const priceText = watch.querySelector('.watch-price').textContent;
            const price = parseInt(priceText.replace(/[^\d]/g, ''));
            
            if (price <= maxPrice) {
                watch.style.display = '';
            } else {
                watch.style.display = 'none';
            }
        });
    }
}

// Function to initialize smooth scroll
function initSmoothScroll() {
    // Select all links with anchors
    document.querySelectorAll('a[href^="#"]:not([href="#"])').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
            const targetId = this.getAttribute('href');
            
            if (targetId === '#') return;
            
            const targetElement = document.querySelector(targetId);
            
            if (targetElement) {
                e.preventDefault();
                
                window.scrollTo({
                    top: targetElement.offsetTop - 100,
                    behavior: 'smooth'
                });
            }
        });
    });
}

// Initialize Back to Top button
function initBackToTop() {
    const backToTopBtn = document.getElementById('back-to-top');
    
    if (backToTopBtn) {
        // Show button when scrolling down
        window.addEventListener('scroll', function() {
            if (window.pageYOffset > 300) {
                backToTopBtn.classList.add('visible');
            } else {
                backToTopBtn.classList.remove('visible');
            }
        });
        
        // Scroll to top when button clicked
        backToTopBtn.addEventListener('click', function(e) {
            e.preventDefault();
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });
    }
}

// Fallback to localStorage if IndexedDB fails
function fallbackToLocalStorage() {
    console.warn('Falling back to localStorage due to IndexedDB failure');
    
    // Override getCart and saveCart functions
    window.getCart = function() {
        return new Promise((resolve) => {
            const cartData = localStorage.getItem('ytimeShopCart');
            resolve(cartData ? JSON.parse(cartData) : []);
        });
    };
    
    window.saveCart = function(cart) {
        return new Promise((resolve) => {
            localStorage.setItem('ytimeShopCart', JSON.stringify(cart));
            resolve(cart);
        });
    };
    
    // Get initial cart data
    getCart().then(cart => {
        updateCartCount(cart);
        
        // Continue initialization
        updateAuthUI();
        initializeCartButtons();
        initializeWatchImageGallery();
        initializeSwiper();
        initMobileNav();
        initNewsletterForm();
        initWatchCardEffects();
        initPriceFilter();
        initSmoothScroll();
        initBackToTop();
        
        // Initialize checkout page if we're on it
        if (window.location.pathname.includes('checkout.html')) {
            initializeCheckoutPage();
        }
    });
}
    </script>
</body>
</html>
